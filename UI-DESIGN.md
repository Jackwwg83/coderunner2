# 🎨 CodeRunner UI/UX 设计方案

> 本文档提供 CodeRunner 前端界面的完整设计方案，可用于 V0、Figma 等设计工具进行详细页面设计。

## 📱 设计原则

1. **开发者友好**: 界面简洁专业，类似 Vercel/Netlify 风格
2. **实时反馈**: 所有操作都有即时视觉反馈
3. **深色模式优先**: 默认深色主题，支持主题切换
4. **响应式设计**: 适配桌面、平板、手机
5. **性能优先**: 虚拟滚动、懒加载、渐进式渲染

## 🏗️ 整体架构

```
┌─────────────────────────────────────────────┐
│                  顶部导航栏                   │
├──────────┬──────────────────────────────────┤
│          │                                  │
│  侧边栏   │           主内容区                │
│          │                                  │
│          │                                  │
└──────────┴──────────────────────────────────┘
```

## 📄 页面清单

### Phase 2: 核心部署功能（6个页面）

#### 1. **登录/注册页** `/auth`
```
┌─────────────────────────────────┐
│          CodeRunner             │
│     Deploy in seconds 🚀        │
│                                 │
│  ┌───────────────────────────┐  │
│  │  Email                    │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  Password                 │  │
│  └───────────────────────────┘  │
│                                 │
│  [  Login  ] [  Sign Up  ]      │
│                                 │
│  ─────── Or continue with ──────│
│                                 │
│  [ GitHub ] [ Google ]          │
└─────────────────────────────────┘
```

**组件需求**:
- 邮箱/密码输入框
- 登录/注册切换
- OAuth 按钮（Phase 3）
- 错误提示
- 加载状态

#### 2. **部署列表页（首页）** `/deployments`
```
┌─────────────────────────────────────────────┐
│ 🏠 Deployments    [+ New Deployment]  [User] │
├─────────────────────────────────────────────┤
│                                             │
│  Active Deployments (3)                     │
│                                             │
│  ┌──────────────┐ ┌──────────────┐         │
│  │ my-app       │ │ api-server   │         │
│  │ 🟢 Running   │ │ 🟢 Running   │         │
│  │ Node.js      │ │ Manifest     │         │
│  │ 2 hours ago  │ │ 5 hours ago  │         │
│  │ [View] [▼]   │ │ [View] [▼]   │         │
│  └──────────────┘ └──────────────┘         │
│                                             │
│  ┌──────────────┐                          │
│  │ test-project │                          │
│  │ 🔴 Stopped   │                          │
│  │ Python       │                          │
│  │ 1 day ago    │                          │
│  │ [Start] [▼]  │                          │
│  └──────────────┘                          │
│                                             │
└─────────────────────────────────────────────┘
```

**组件需求**:
- 部署卡片（状态、类型、时间、操作）
- 状态指示器（运行中/停止/部署中/错误）
- 快速操作菜单（启动/停止/删除/查看日志）
- 搜索/筛选栏
- 分页或无限滚动

#### 3. **新建部署页** `/deploy/new`
```
┌─────────────────────────────────────────────┐
│ ← Back    Create New Deployment             │
├─────────────────────────────────────────────┤
│                                             │
│  Project Type                               │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐      │
│  │ Node.js │ │Manifest │ │ Python  │      │
│  │   📦    │ │   🎯    │ │   🐍    │      │
│  └─────────┘ └─────────┘ └─────────┘      │
│                                             │
│  Project Name                               │
│  ┌─────────────────────────────────────┐   │
│  │ my-awesome-project                  │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  Upload Files                               │
│  ┌─────────────────────────────────────┐   │
│  │                                     │   │
│  │    📁 Drag files here or browse    │   │
│  │                                     │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  Environment Variables                      │
│  ┌─────────────────────────────────────┐   │
│  │ KEY          │ VALUE                │   │
│  │ NODE_ENV    │ production          │   │
│  │ [+ Add Variable]                   │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  [ Cancel ]  [ Deploy Now →]               │
└─────────────────────────────────────────────┘
```

**组件需求**:
- 项目类型选择器
- 文件上传区（拖拽支持）
- 环境变量编辑器
- 表单验证
- 部署进度条

#### 4. **部署详情页** `/deployments/:id`
```
┌─────────────────────────────────────────────┐
│ ← Back    my-app                           │
│           🟢 Running • Node.js             │
├─────────────────────────────────────────────┤
│                                             │
│ [Overview] [Logs] [Metrics] [Settings]     │
│                                             │
│ ┌───────────────────────────────────────┐   │
│ │ Deployment Info                      │   │
│ ├───────────────────────────────────────┤   │
│ │ URL: https://my-app.coderunner.io   │   │
│ │ Created: 2025-08-07 10:30 AM        │   │
│ │ Runtime: Node.js 18                  │   │
│ │ Status: Running                      │   │
│ └───────────────────────────────────────┘   │
│                                             │
│ ┌───────────────────────────────────────┐   │
│ │ Quick Actions                        │   │
│ ├───────────────────────────────────────┤   │
│ │ [🔄 Restart] [⏸ Stop] [🗑 Delete]    │   │
│ │ [📋 Copy URL] [🔗 Visit Site]       │   │
│ └───────────────────────────────────────┘   │
│                                             │
└─────────────────────────────────────────────┘
```

**标签页内容**:
- **Overview**: 基本信息、快速操作
- **Logs**: 实时日志流（见下方设计）
- **Metrics**: CPU/内存/网络图表
- **Settings**: 环境变量、配置管理

#### 5. **实时日志页** `/deployments/:id/logs`
```
┌─────────────────────────────────────────────┐
│ Logs • my-app                 [Clear] [↓]  │
├─────────────────────────────────────────────┤
│ Filter: [All ▼] Search: [_____________]    │
├─────────────────────────────────────────────┤
│                                             │
│ 2025-08-07 10:30:01 [INFO] Server started  │
│ 2025-08-07 10:30:02 [INFO] Database connected│
│ 2025-08-07 10:30:03 [WARN] Deprecated API  │
│ 2025-08-07 10:30:05 [INFO] Request GET /   │
│ 2025-08-07 10:30:06 [ERROR] Failed to...   │
│ 2025-08-07 10:30:07 [INFO] Retry attempt 1 │
│ │ (Auto-scrolling enabled)                 │
│ └───────────────────────────────────────────│
└─────────────────────────────────────────────┘
```

**组件需求**:
- 虚拟滚动日志查看器
- 日志级别筛选（INFO/WARN/ERROR）
- 搜索功能
- 自动滚动开关
- 时间戳格式化
- 日志级别颜色编码

#### 6. **监控指标页** `/deployments/:id/metrics`
```
┌─────────────────────────────────────────────┐
│ Metrics • my-app        [1H] [24H] [7D]    │
├─────────────────────────────────────────────┤
│                                             │
│ CPU Usage                                   │
│ ┌─────────────────────────────────────┐     │
│ │     📈 Chart (Recharts)             │     │
│ │     Current: 45%                    │     │
│ └─────────────────────────────────────┘     │
│                                             │
│ Memory Usage                                │
│ ┌─────────────────────────────────────┐     │
│ │     📊 Chart (Recharts)             │     │
│ │     Current: 256MB / 512MB          │     │
│ └─────────────────────────────────────┘     │
│                                             │
│ Network I/O                                 │
│ ┌─────────────────────────────────────┐     │
│ │     📉 Chart (Recharts)             │     │
│ │     In: 1.2MB/s  Out: 0.8MB/s      │     │
│ └─────────────────────────────────────┘     │
└─────────────────────────────────────────────┘
```

**组件需求**:
- 实时更新的图表（Recharts）
- 时间范围选择器
- 指标卡片
- 阈值警告线
- 导出功能（Phase 3）

### Phase 3: 高级管理功能（6个额外页面）

#### 7. **项目管理页** `/projects`
```
┌─────────────────────────────────────────────┐
│ Projects                    [+ New Project]│
├─────────────────────────────────────────────┤
│                                             │
│ ┌──────────────────────────────────────┐   │
│ │ E-commerce API                       │   │
│ │ 3 deployments • 2 databases          │   │
│ │ Team: 4 members                      │   │
│ │ [Manage] [Settings]                  │   │
│ └──────────────────────────────────────┘   │
│                                             │
│ ┌──────────────────────────────────────┐   │
│ │ Blog Platform                        │   │
│ │ 1 deployment • 1 database            │   │
│ │ Personal project                     │   │
│ │ [Manage] [Settings]                  │   │
│ └──────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

#### 8. **数据库管理页** `/databases`
```
┌─────────────────────────────────────────────┐
│ Databases                  [+ New Database]│
├─────────────────────────────────────────────┤
│                                             │
│ ┌──────────────────────────────────────┐   │
│ │ PostgreSQL • prod-db                 │   │
│ │ 🟢 Running • 15GB / 50GB            │   │
│ │ Connections: 12 / 100                │   │
│ │ [Connect] [Backup] [Settings]        │   │
│ └──────────────────────────────────────┘   │
│                                             │
│ ┌──────────────────────────────────────┐   │
│ │ Redis • cache-server                 │   │
│ │ 🟢 Running • 256MB / 1GB            │   │
│ │ Keys: 1,234                          │   │
│ │ [Connect] [Flush] [Settings]         │   │
│ └──────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

#### 9. **文件编辑器页** `/editor/:deploymentId`
```
┌─────────────────────────────────────────────┐
│ File Editor • my-app           [Save] [Run]│
├────────┬────────────────────────────────────┤
│ Files  │ index.js                          │
│        │ ┌──────────────────────────────┐  │
│ 📁 src │ │ // Monaco Editor             │  │
│  └ 📄  │ │ const express = require...  │  │
│ 📄 pkg │ │                              │  │
│ 📄 .env│ │ // Syntax highlighting       │  │
│        │ │ // Auto-completion           │  │
│        │ └──────────────────────────────┘  │
└────────┴────────────────────────────────────┘
```

#### 10. **团队管理页** `/team`
```
┌─────────────────────────────────────────────┐
│ Team Management              [+ Invite]     │
├─────────────────────────────────────────────┤
│                                             │
│ Members (4)                                │
│ ┌──────────────────────────────────────┐   │
│ │ 👤 Jack Wang • Owner                 │   │
│ │ 👤 Alice Chen • Admin                │   │
│ │ 👤 Bob Li • Developer                │   │
│ │ 👤 Carol Zhang • Viewer              │   │
│ └──────────────────────────────────────┘   │
│                                             │
│ Pending Invitations (1)                    │
│ ┌──────────────────────────────────────┐   │
│ │ david@example.com • Developer        │   │
│ │ Sent 2 days ago [Resend] [Cancel]   │   │
│ └──────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

#### 11. **账单与使用量页** `/billing`
```
┌─────────────────────────────────────────────┐
│ Billing & Usage          [Upgrade Plan]    │
├─────────────────────────────────────────────┤
│                                             │
│ Current Plan: Free Tier                    │
│                                             │
│ Usage This Month                           │
│ ┌──────────────────────────────────────┐   │
│ │ Deployments:    3 / 5                │   │
│ │ ████████████░░░░░░░░                │   │
│ │                                      │   │
│ │ Storage:        2.3GB / 5GB         │   │
│ │ ████████░░░░░░░░░░░░                │   │
│ │                                      │   │
│ │ Bandwidth:      8.5GB / 100GB       │   │
│ │ ██░░░░░░░░░░░░░░░░░░                │   │
│ └──────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

#### 12. **设置页** `/settings`
```
┌─────────────────────────────────────────────┐
│ Settings                                    │
├─────────────────────────────────────────────┤
│                                             │
│ [Profile] [Security] [API Keys] [Webhooks] │
│                                             │
│ Profile Settings                            │
│ ┌──────────────────────────────────────┐   │
│ │ Name:  [Jack Wang              ]     │   │
│ │ Email: [jack@example.com       ]     │   │
│ │ Theme: [Dark Mode ▼]                 │   │
│ │                                      │   │
│ │ [Save Changes]                       │   │
│ └──────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

## 🎨 设计系统

### 颜色方案（深色模式）
```css
/* 背景色 */
--bg-primary: #0a0a0a;      /* 主背景 */
--bg-secondary: #171717;    /* 卡片背景 */
--bg-tertiary: #262626;     /* 悬浮层 */

/* 文字色 */
--text-primary: #fafafa;    /* 主文字 */
--text-secondary: #a3a3a3;  /* 次要文字 */
--text-muted: #737373;      /* 弱化文字 */

/* 品牌色 */
--brand-primary: #3b82f6;   /* 主色调（蓝色） */
--brand-hover: #2563eb;     /* 悬浮态 */
--brand-active: #1d4ed8;    /* 激活态 */

/* 状态色 */
--status-success: #10b981;  /* 成功/运行中 */
--status-warning: #f59e0b;  /* 警告 */
--status-error: #ef4444;    /* 错误/停止 */
--status-info: #3b82f6;     /* 信息 */
```

### 字体系统
```css
/* 字体族 */
--font-sans: 'Inter', system-ui, sans-serif;
--font-mono: 'JetBrains Mono', monospace;

/* 字号 */
--text-xs: 12px;
--text-sm: 14px;
--text-base: 16px;
--text-lg: 18px;
--text-xl: 20px;
--text-2xl: 24px;
--text-3xl: 30px;

/* 字重 */
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```

### 间距系统
```css
/* 基于 4px 网格 */
--space-1: 4px;
--space-2: 8px;
--space-3: 12px;
--space-4: 16px;
--space-5: 20px;
--space-6: 24px;
--space-8: 32px;
--space-10: 40px;
--space-12: 48px;
--space-16: 64px;
```

### 圆角系统
```css
--radius-sm: 4px;
--radius-md: 8px;
--radius-lg: 12px;
--radius-xl: 16px;
--radius-full: 9999px;
```

## 🔄 用户流程

### 首次使用流程
```
注册 → 邮箱验证 → 创建首个部署 → 查看部署详情 → 成功
```

### 日常部署流程
```
登录 → 部署列表 → 新建部署 → 上传文件 → 配置环境变量 → 部署 → 查看日志
```

### 故障排查流程
```
部署列表 → 发现错误状态 → 查看日志 → 查看指标 → 编辑文件 → 重新部署
```

## 🎯 交互设计要点

### 实时更新
- WebSocket 连接状态指示器
- 日志自动滚动（可关闭）
- 指标图表每10秒更新
- 部署状态实时变化

### 加载状态
- 骨架屏（Skeleton）用于列表加载
- 进度条用于部署过程
- Spinner 用于按钮操作
- 渐进式内容加载

### 错误处理
- Toast 通知用于操作反馈
- 内联错误用于表单验证
- 错误页面用于 404/500
- 重试机制用于网络错误

### 快捷键
- `Cmd/Ctrl + K`: 快速搜索
- `Cmd/Ctrl + N`: 新建部署
- `Cmd/Ctrl + L`: 查看日志
- `Cmd/Ctrl + /`: 键盘快捷键帮助

## 📱 响应式断点

```css
/* 移动端优先 */
--mobile: 0px;      /* 默认 */
--tablet: 768px;    /* 平板 */
--desktop: 1024px;  /* 桌面 */
--wide: 1280px;     /* 宽屏 */
```

### 移动端适配
- 底部导航栏代替侧边栏
- 卡片单列布局
- 简化的操作菜单
- 全屏模态框

## 🚀 性能优化建议

1. **虚拟滚动**: 日志查看器必须使用
2. **懒加载**: 图表和非首屏内容
3. **代码分割**: 按路由分割
4. **缓存策略**: 静态资源强缓存
5. **WebSocket 复用**: 单一连接多路复用

## 📦 组件库规划（基于 shadcn/ui）

### 基础组件
- Button（主要/次要/危险/文字）
- Input（文本/密码/数字）
- Select（单选/多选）
- Switch（开关）
- Card（卡片容器）
- Table（数据表格）
- Dialog（对话框）
- Toast（提示通知）

### 业务组件
- DeploymentCard（部署卡片）
- LogViewer（日志查看器）
- MetricsChart（指标图表）
- FileUploader（文件上传）
- EnvEditor（环境变量编辑器）
- StatusBadge（状态标签）
- CodeEditor（代码编辑器）
- ConnectionString（连接字符串显示）

## 🎭 动画与过渡

```css
/* 标准过渡 */
--transition-fast: 150ms ease;
--transition-base: 250ms ease;
--transition-slow: 350ms ease;

/* 动画曲线 */
--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
--ease-out: cubic-bezier(0, 0, 0.2, 1);
--ease-in: cubic-bezier(0.4, 0, 1, 1);
```

### 关键动画
- 页面切换: Fade + Slide
- 卡片悬浮: Scale + Shadow
- 按钮点击: Ripple 效果
- 加载: Pulse/Skeleton
- 成功/错误: Check/Cross 动画

## 📝 文案规范

### 语言风格
- 简洁明了，避免技术术语
- 操作导向，使用动词开头
- 友好专业，避免过于随意
- 错误信息包含解决方案

### 示例文案
- ✅ "Deploy your code in seconds"
- ✅ "Failed to connect. Check your network and try again."
- ❌ "An error occurred"
- ❌ "Something went wrong"

## 🔐 安全设计

- 敏感信息（密码、密钥）默认隐藏
- 复制连接字符串需要确认
- 删除操作需要二次确认
- Session 超时自动登出
- 操作日志审计（Phase 3）

---

## 下一步

1. 使用本设计文档在 V0/Figma 中创建高保真原型
2. 导出设计规范和切图
3. 生成组件代码
4. 与开发团队集成

**注意**: 本设计遵循 React 18 + shadcn/ui 组件库规范，可直接生成可用代码。