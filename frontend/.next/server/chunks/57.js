"use strict";exports.id=57,exports.ids=[57],exports.modules={13057:(e,s,a)=>{a.d(s,{A:()=>X});var t=a(60687),l=a(43210),n=a(59821),c=a(24934),r=a(55192),i=a(86287),d=a(41360),x=a(96241);let m=d.bL,o=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(d.B8,{ref:a,className:(0,x.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));o.displayName=d.B8.displayName;let h=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(d.l9,{ref:a,className:(0,x.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));h.displayName=d.l9.displayName;let u=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(d.UC,{ref:a,className:(0,x.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));u.displayName=d.UC.displayName;var j=a(5336),p=a(48730),N=a(93613),g=a(28559),f=a(84027),v=a(88233),b=a(34318),w=a(58559),y=a(41312),_=a(77026),A=a(61611),C=a(70615),k=a(25334),B=a(24413),D=a(10510),S=a(30128),Z=a(62022),R=a(1994),$=a(78122),z=a(30736),L=a(68988),T=a(39390),M=a(63974),F=a(37826),q=a(41862),W=a(99891),E=a(96474);function I({deploymentId:e,tenants:s}){let{createTenant:a,deleteTenant:d,loading:x,error:m}=(0,z.g)(),[o,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)({tenant_id:"",isolation_type:"schema",resource_limits:{max_connections:10,storage_quota_mb:100,cpu_quota_percent:10}}),[g,b]=(0,l.useState)(null),w=(e,s)=>{if(e.startsWith("resource_limits.")){let a=e.split(".")[1];p(e=>({...e,resource_limits:{...e.resource_limits,[a]:s}}))}else p(a=>({...a,[e]:s}))},_=async()=>{if(u.tenant_id)try{await a(e,u),h(!1),p({tenant_id:"",isolation_type:"schema",resource_limits:{max_connections:10,storage_quota_mb:100,cpu_quota_percent:10}})}catch(e){}},C=async s=>{if(confirm("Are you sure you want to delete this tenant? This action cannot be undone.")){b(s);try{await d(e,s)}finally{b(null)}}},k=e=>{switch(e){case"active":return"text-green-400";case"suspended":return"text-yellow-400";case"migrating":return"text-blue-400";case"deleting":return"text-red-400";default:return"text-gray-400"}},B=e=>{switch(e){case"active":return(0,t.jsx)(j.A,{className:"w-4 h-4"});case"suspended":default:return(0,t.jsx)(N.A,{className:"w-4 h-4"});case"migrating":case"deleting":return(0,t.jsx)(q.A,{className:"w-4 h-4 animate-spin"})}},S=e=>{switch(e){case"database":return(0,t.jsx)(A.A,{className:"w-4 h-4 text-blue-400"});case"schema":return(0,t.jsx)(W.A,{className:"w-4 h-4 text-green-400"});case"row":return(0,t.jsx)(y.A,{className:"w-4 h-4 text-yellow-400"});default:return(0,t.jsx)(A.A,{className:"w-4 h-4"})}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Tenant Management"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"Manage database tenants and resource isolation"})]}),(0,t.jsxs)(F.lG,{open:o,onOpenChange:h,children:[(0,t.jsx)(F.zM,{asChild:!0,children:(0,t.jsxs)(c.$,{className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Create Tenant"]})}),(0,t.jsxs)(F.Cf,{className:"sm:max-w-[600px] bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(F.c7,{children:(0,t.jsx)(F.L3,{children:"Create New Tenant"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"tenant_id",children:"Tenant ID *"}),(0,t.jsx)(L.p,{id:"tenant_id",placeholder:"tenant-001",value:u.tenant_id,onChange:e=>w("tenant_id",e.target.value),className:"bg-neutral-800 border-neutral-700"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"isolation_type",children:"Isolation Type"}),(0,t.jsxs)(M.l6,{value:u.isolation_type,onValueChange:e=>w("isolation_type",e),children:[(0,t.jsx)(M.bq,{className:"bg-neutral-800 border-neutral-700",children:(0,t.jsx)(M.yv,{})}),(0,t.jsxs)(M.gC,{children:[(0,t.jsx)(M.eb,{value:"schema",children:"Schema Level"}),(0,t.jsx)(M.eb,{value:"database",children:"Database Level"}),(0,t.jsx)(M.eb,{value:"row",children:"Row Level"})]})]})]})]}),"schema"===u.isolation_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"schema_name",children:"Schema Name (optional)"}),(0,t.jsx)(L.p,{id:"schema_name",placeholder:"tenant_001_schema",value:u.schema_name||"",onChange:e=>w("schema_name",e.target.value),className:"bg-neutral-800 border-neutral-700"})]}),"database"===u.isolation_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"database_name",children:"Database Name (optional)"}),(0,t.jsx)(L.p,{id:"database_name",placeholder:"tenant_001_db",value:u.database_name||"",onChange:e=>w("database_name",e.target.value),className:"bg-neutral-800 border-neutral-700"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Resource Limits"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(T.J,{children:["Max Connections: ",u.resource_limits?.max_connections]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)(L.p,{type:"range",min:"1",max:"100",value:u.resource_limits?.max_connections,onChange:e=>w("resource_limits.max_connections",parseInt(e.target.value)),className:"flex-1"}),(0,t.jsx)("span",{className:"text-sm text-neutral-400 w-12 text-right",children:u.resource_limits?.max_connections})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(T.J,{children:["Storage Quota: ",u.resource_limits?.storage_quota_mb,"MB"]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)(L.p,{type:"range",min:"50",max:"10240",step:"50",value:u.resource_limits?.storage_quota_mb,onChange:e=>w("resource_limits.storage_quota_mb",parseInt(e.target.value)),className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 w-16 text-right",children:[u.resource_limits?.storage_quota_mb,"MB"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(T.J,{children:["CPU Quota: ",u.resource_limits?.cpu_quota_percent,"%"]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)(L.p,{type:"range",min:"5",max:"100",step:"5",value:u.resource_limits?.cpu_quota_percent,onChange:e=>w("resource_limits.cpu_quota_percent",parseInt(e.target.value)),className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 w-12 text-right",children:[u.resource_limits?.cpu_quota_percent,"%"]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>h(!1),className:"border-neutral-700",children:"Cancel"}),(0,t.jsx)(c.$,{onClick:_,disabled:!u.tenant_id||x,className:"bg-orange-500 hover:bg-orange-600 text-black",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Tenant"})]})]})]})]})]}),m&&(0,t.jsx)(r.Zp,{className:"bg-red-500/10 border-red-500/20",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-red-400",children:[(0,t.jsx)(N.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:m})]})})}),0===s.length?(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(y.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Tenants Yet"}),(0,t.jsx)("p",{className:"text-neutral-400 mb-4",children:"Create your first tenant to start isolating database access"}),(0,t.jsxs)(c.$,{onClick:()=>h(!0),className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Create First Tenant"]})]})})}):(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(e=>(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[S(e.isolation_type),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ZB,{className:"text-lg font-mono",children:e.tenant_id}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:k(e.status),children:B(e.status)}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 capitalize",children:[e.isolation_type," isolation"]}),(0,t.jsx)(n.E,{variant:"secondary",className:"text-xs",children:e.status})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",disabled:"active"!==e.status,children:(0,t.jsx)(f.A,{className:"w-4 h-4"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>C(e.id),disabled:g===e.id,children:g===e.id?(0,t.jsx)(q.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(v.A,{className:"w-4 h-4 text-red-400"})})]})]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[e.schema_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400",children:"Schema"}),(0,t.jsx)("p",{className:"font-mono text-sm",children:e.schema_name})]}),e.database_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400",children:"Database"}),(0,t.jsx)("p",{className:"font-mono text-sm",children:e.database_name})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Connections"}),(0,t.jsxs)("span",{children:["Max ",e.resource_limits.max_connections]})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Storage Quota"}),(0,t.jsxs)("span",{children:[e.resource_limits.storage_quota_mb,"MB"]})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"CPU Quota"}),(0,t.jsxs)("span",{children:[e.resource_limits.cpu_quota_percent,"%"]})]}),(0,t.jsx)(i.k,{value:e.resource_limits.cpu_quota_percent,className:"h-1 mt-1"})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-neutral-800",children:(0,t.jsxs)("span",{className:"text-neutral-400",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})})]})]},e.id))})]})}var U=a(45583),P=a(13943),J=a(31158);function Q({deploymentId:e,backups:s}){let{createBackup:a,restoreBackup:d,deleteBackup:x,loading:m,error:o}=(0,z.g)(),[h,u]=(0,l.useState)(!1),[g,f]=(0,l.useState)("full"),[b,w]=(0,l.useState)(null),y=async()=>{try{await a(e,g),u(!1)}catch(e){}},A=async s=>{if(confirm(`Are you sure you want to restore from backup ${s.backup_id}? This will overwrite current data.`)){w({id:s.id,action:"restore"});try{await d(e,s.backup_id)}finally{w(null)}}},C=async s=>{if(confirm(`Are you sure you want to delete backup ${s.backup_id}? This action cannot be undone.`)){w({id:s.id,action:"delete"});try{await x(e,s.backup_id)}finally{w(null)}}},k=e=>{switch(e){case"completed":return"text-green-400";case"creating":return"text-blue-400";case"failed":return"text-red-400";case"restoring":return"text-yellow-400";default:return"text-gray-400"}},B=e=>{switch(e){case"completed":return(0,t.jsx)(j.A,{className:"w-4 h-4"});case"creating":case"restoring":return(0,t.jsx)(q.A,{className:"w-4 h-4 animate-spin"});case"failed":return(0,t.jsx)(N.A,{className:"w-4 h-4"});default:return(0,t.jsx)(p.A,{className:"w-4 h-4"})}},D=e=>{switch(e){case"full":return(0,t.jsx)(_.A,{className:"w-4 h-4 text-blue-400"});case"incremental":return(0,t.jsx)(U.A,{className:"w-4 h-4 text-green-400"});case"differential":return(0,t.jsx)(Z.A,{className:"w-4 h-4 text-purple-400"});default:return(0,t.jsx)(_.A,{className:"w-4 h-4"})}},S=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]},R=e=>{let s=new Date,a=(new Date(e).getTime()-s.getTime())/864e5;return a<=7&&a>0},$=e=>new Date(e)<=new Date,L=[...s].sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()),T=L.filter(e=>"completed"===e.status&&!$(e.expires_at)),I=L.filter(e=>"completed"!==e.status);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Backup Management"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"Create, manage, and restore database backups"})]}),(0,t.jsxs)(F.lG,{open:h,onOpenChange:u,children:[(0,t.jsx)(F.zM,{asChild:!0,children:(0,t.jsxs)(c.$,{className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Create Backup"]})}),(0,t.jsxs)(F.Cf,{className:"sm:max-w-[400px] bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(F.c7,{children:(0,t.jsx)(F.L3,{children:"Create New Backup"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Backup Type"}),(0,t.jsxs)(M.l6,{value:g,onValueChange:e=>f(e),children:[(0,t.jsx)(M.bq,{className:"bg-neutral-800 border-neutral-700",children:(0,t.jsx)(M.yv,{})}),(0,t.jsxs)(M.gC,{children:[(0,t.jsx)(M.eb,{value:"full",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"w-4 h-4 text-blue-400"}),"Full Backup"]})}),(0,t.jsx)(M.eb,{value:"incremental",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-4 h-4 text-green-400"}),"Incremental Backup"]})})]})]})]}),(0,t.jsx)("div",{className:"bg-neutral-800 p-3 rounded-lg text-sm",children:"full"===g?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Full Backup"}),(0,t.jsx)("div",{className:"text-neutral-400",children:"Complete snapshot of the entire database. Takes more time and storage but provides complete data recovery."})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Incremental Backup"}),(0,t.jsx)("div",{className:"text-neutral-400",children:"Only backs up data changed since the last backup. Faster and uses less storage."})]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>u(!1),className:"border-neutral-700",children:"Cancel"}),(0,t.jsx)(c.$,{onClick:y,disabled:m,className:"bg-orange-500 hover:bg-orange-600 text-black",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"w-4 h-4 mr-2"}),"Create Backup"]})})]})]})]})]})]}),o&&(0,t.jsx)(r.Zp,{className:"bg-red-500/10 border-red-500/20",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-red-400",children:[(0,t.jsx)(N.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:o})]})})}),I.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Active Operations"}),(0,t.jsx)("div",{className:"space-y-3",children:I.map(e=>(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsxs)(r.Wu,{className:"pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[D(e.type),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium font-mono text-sm",children:e.backup_id}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:k(e.status),children:B(e.status)}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 capitalize",children:[e.status," • ",e.type," backup"]})]})]})]}),(0,t.jsxs)("div",{className:"text-sm text-neutral-400",children:["Started: ",new Date(e.created_at).toLocaleTimeString()]})]}),"creating"===e.status&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(i.k,{value:65,className:"h-2"})})]})},e.id))})]}),0===T.length&&0===I.length?(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(_.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Backups Yet"}),(0,t.jsx)("p",{className:"text-neutral-400 mb-4",children:"Create your first backup to protect your data"}),(0,t.jsxs)(c.$,{onClick:()=>u(!0),className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Create First Backup"]})]})})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Available Backups"}),(0,t.jsx)("div",{className:"space-y-4",children:T.map(e=>(0,t.jsxs)(r.Zp,{className:`bg-neutral-900 transition-colors ${R(e.expires_at)?"border-yellow-500/50":"border-neutral-800"}`,children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[D(e.type),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ZB,{className:"text-lg font-mono",children:e.backup_id}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:k(e.status),children:B(e.status)}),(0,t.jsx)(n.E,{variant:"secondary",className:"text-xs capitalize",children:e.type}),e.encryption_enabled&&(0,t.jsxs)(n.E,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(W.A,{className:"w-3 h-3 mr-1"}),"Encrypted"]}),"none"!==e.compression&&(0,t.jsx)(n.E,{variant:"outline",className:"text-xs capitalize",children:e.compression})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>A(e),disabled:b?.id===e.id||"completed"!==e.status,children:b?.id===e.id&&b?.action==="restore"?(0,t.jsx)(q.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(P.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(J.A,{className:"w-4 h-4 text-green-400"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>C(e),disabled:b?.id===e.id,children:b?.id===e.id&&b?.action==="delete"?(0,t.jsx)(q.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(v.A,{className:"w-4 h-4 text-red-400"})})]})]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Size:"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:S(e.size_bytes)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Location:"}),(0,t.jsx)("span",{className:"ml-2 font-mono text-xs",children:e.storage_location})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Created:"}),(0,t.jsx)("span",{className:"ml-2",children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Expires:"}),(0,t.jsx)("span",{className:`ml-2 ${R(e.expires_at)?"text-yellow-400":"text-neutral-300"}`,children:new Date(e.expires_at).toLocaleDateString()}),R(e.expires_at)&&(0,t.jsx)(N.A,{className:"w-4 h-4 text-yellow-400"})]})]}),R(e.expires_at)&&(0,t.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[(0,t.jsx)(N.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"This backup will expire soon. Consider creating a new one."})]})})]})]},e.id))})]})]})}var H=a(25541),O=a(12640),G=a(5748),V=a(43649);let Y=({data:e,color:s="#f97316"})=>{let a=Math.max(...e.map(e=>e.value)),l=Math.min(...e.map(e=>e.value)),n=a-l||1;return(0,t.jsx)("div",{className:"h-12 flex items-end justify-between gap-1",children:e.slice(-12).map((e,a)=>(0,t.jsx)("div",{className:"bg-orange-500/20 rounded-sm min-w-[2px]",style:{height:`${(e.value-l)/n*100}%`,backgroundColor:s,opacity:.7}},a))})};function K({deployment:e,metrics:s}){let[a,d]=(0,l.useState)(new Date),[x,m]=(0,l.useState)({cpu:[],memory:[],connections:[],qps:[]}),o=e=>{if(e.length<2)return"stable";let s=e.slice(-3),a=s.reduce((e,s)=>e+s.value,0)/s.length,t=e[e.length-4]?.value||a;return a>1.05*t?"up":a<.95*t?"down":"stable"},h=e=>{switch(e){case"up":return(0,t.jsx)(H.A,{className:"w-4 h-4 text-red-400"});case"down":return(0,t.jsx)(O.A,{className:"w-4 h-4 text-green-400"});default:return(0,t.jsx)(G.A,{className:"w-4 h-4 text-neutral-400"})}},u=(e,s)=>e>=s.critical?{status:"critical",color:"text-red-400",icon:V.A}:e>=s.warning?{status:"warning",color:"text-yellow-400",icon:V.A}:{status:"healthy",color:"text-green-400",icon:j.A};if(!s)return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(A.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Metrics Available"}),(0,t.jsx)("p",{className:"text-neutral-400",children:"running"===e.status?"Waiting for metrics data...":"Database must be running to collect metrics"})]})})})});let N=u(s.cpu_usage_percent,{warning:70,critical:90}),g=u(s.memory_usage_percent,{warning:80,critical:95}),f=u(s.storage_usage_percent,{warning:85,critical:95});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Performance Metrics"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"Real-time database performance monitoring"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-neutral-400",children:["Last updated: ",a.toLocaleTimeString()]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.A,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"CPU Usage"})]}),h(o(x.cpu))]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[s.cpu_usage_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:N.color,children:(0,t.jsx)(N.icon,{className:"w-5 h-5"})})]}),(0,t.jsx)(i.k,{value:s.cpu_usage_percent,className:"h-2"}),(0,t.jsx)(Y,{data:x.cpu,color:"#3b82f6"})]})})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.A,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Memory"})]}),h(o(x.memory))]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[s.memory_usage_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:g.color,children:(0,t.jsx)(g.icon,{className:"w-5 h-5"})})]}),(0,t.jsx)(i.k,{value:s.memory_usage_percent,className:"h-2"}),(0,t.jsx)(Y,{data:x.memory,color:"#10b981"})]})})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Storage"})]}),(0,t.jsxs)(n.E,{variant:"secondary",className:"text-xs",children:[e.storage.used,e.storage.unit]})]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[s.storage_usage_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:f.color,children:(0,t.jsx)(f.icon,{className:"w-5 h-5"})})]}),(0,t.jsx)(i.k,{value:s.storage_usage_percent,className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-neutral-400",children:[e.storage.used,e.storage.unit," / ",e.storage.total,e.storage.unit]})]})})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Connections"})]}),h(o(x.connections))]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:s.connections_active}),(0,t.jsxs)(n.E,{variant:"outline",className:"text-xs",children:["Max: ",s.connections_max]})]}),(0,t.jsx)(i.k,{value:s.connections_active/s.connections_max*100,className:"h-2"}),(0,t.jsx)(Y,{data:x.connections,color:"#f97316"})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-5 h-5 text-yellow-400"}),"Query Performance"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-neutral-400",children:"Queries/Second"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.queries_per_second})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-neutral-400",children:"Slow Queries"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:s.slow_queries_count})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"flex justify-between text-sm",children:(0,t.jsx)("span",{children:"Query Throughput (24h)"})}),(0,t.jsx)(Y,{data:x.qps,color:"#eab308"})]})]})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-green-400"}),"System Health"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"CPU Health"}),(0,t.jsx)(n.E,{variant:"healthy"===N.status?"default":"destructive",className:"text-xs",children:N.status})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Memory Health"}),(0,t.jsx)(n.E,{variant:"healthy"===g.status?"default":"destructive",className:"text-xs",children:g.status})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Storage Health"}),(0,t.jsx)(n.E,{variant:"healthy"===f.status?"default":"destructive",className:"text-xs",children:f.status})]}),void 0!==s.replication_lag_ms&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Replication Lag"}),(0,t.jsxs)("span",{className:"text-sm font-mono",children:[s.replication_lag_ms,"ms"]})]})]}),(0,t.jsx)("div",{className:"pt-3 border-t border-neutral-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 text-neutral-400"}),(0,t.jsx)("span",{className:"text-neutral-400",children:"Last metric update:"}),(0,t.jsx)("span",{children:new Date(s.timestamp).toLocaleTimeString()})]})})]})]})]}),("healthy"!==N.status||"healthy"!==g.status||"healthy"!==f.status)&&(0,t.jsxs)(r.Zp,{className:"bg-yellow-500/10 border-yellow-500/20",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-yellow-400",children:[(0,t.jsx)(V.A,{className:"w-5 h-5"}),"Performance Alerts"]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:["healthy"!==N.status&&(0,t.jsxs)("div",{className:"text-sm text-yellow-400",children:["⚠️ High CPU usage detected (",s.cpu_usage_percent.toFixed(1),"%)"]}),"healthy"!==g.status&&(0,t.jsxs)("div",{className:"text-sm text-yellow-400",children:["⚠️ High memory usage detected (",s.memory_usage_percent.toFixed(1),"%)"]}),"healthy"!==f.status&&(0,t.jsxs)("div",{className:"text-sm text-yellow-400",children:["⚠️ Low storage space remaining (",(100-s.storage_usage_percent).toFixed(1),"% free)"]})]})})]})]})}function X({deployment:e,onBack:s}){let{metrics:a,tenants:d,backups:x,subscribeToMetrics:L,unsubscribeFromMetrics:T,fetchTenants:M,fetchBackups:F}=(0,z.g)(),[q,W]=(0,l.useState)("overview"),E=a.get(e.id),U=d.get(e.id)||[],P=x.get(e.id)||[],J=e=>{navigator.clipboard.writeText(e)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:s,className:"hover:bg-neutral-800",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Back to Deployments"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-3xl",children:(e=>{switch(e){case"postgresql":return"\uD83D\uDC18";case"redis":return"\uD83D\uDD34";case"mongodb":return"\uD83C\uDF43";case"mysql":return"\uD83D\uDC2C";case"influxdb":return"\uD83D\uDCCA";default:return"\uD83D\uDCBE"}})(e.type)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold font-mono",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(e=>{switch(e){case"running":return(0,t.jsx)(j.A,{className:"w-5 h-5 text-green-500"});case"creating":return(0,t.jsx)(p.A,{className:"w-5 h-5 text-blue-500 animate-spin"});case"maintenance":return(0,t.jsx)(N.A,{className:"w-5 h-5 text-yellow-500"});case"failed":return(0,t.jsx)(N.A,{className:"w-5 h-5 text-red-500"});case"stopped":default:return(0,t.jsx)(N.A,{className:"w-5 h-5 text-gray-500"});case"deleting":return(0,t.jsx)(p.A,{className:"w-5 h-5 text-red-400 animate-spin"})}})(e.status),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 capitalize",children:[e.type," • ",e.region]}),(0,t.jsx)(n.E,{variant:"secondary",className:"text-xs",children:e.status})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",className:"text-red-400 border-red-500/50 hover:bg-red-500/10",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),(0,t.jsxs)(m,{value:q,onValueChange:W,className:"w-full",children:[(0,t.jsxs)(o,{className:"grid w-full grid-cols-5",children:[(0,t.jsxs)(h,{value:"overview",className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"w-4 h-4"}),"Overview"]}),(0,t.jsxs)(h,{value:"metrics",className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4"}),"Metrics"]}),(0,t.jsxs)(h,{value:"tenants",className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),"Tenants (",U.length,")"]}),(0,t.jsxs)(h,{value:"backups",className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"w-4 h-4"}),"Backups (",P.length,")"]}),(0,t.jsxs)(h,{value:"logs",className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"w-4 h-4"}),"Logs"]})]}),(0,t.jsx)(u,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"Connection"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400 mb-2",children:"Endpoint"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-neutral-800 rounded font-mono text-sm",children:[(0,t.jsxs)("span",{className:"flex-1",children:[e.endpoint,":",e.port]}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>J(`${e.endpoint}:${e.port}`),className:"h-6 w-6 p-0",children:(0,t.jsx)(C.A,{className:"w-3 h-3"})})]})]}),"running"===e.status&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400 mb-2",children:"Connection String"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-neutral-800 rounded font-mono text-sm",children:[(0,t.jsx)("span",{className:"flex-1 truncate",children:e.connection_string}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>J(e.connection_string),className:"h-6 w-6 p-0",children:(0,t.jsx)(C.A,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)(c.$,{className:"w-full bg-orange-500 hover:bg-orange-600 text-black",disabled:"running"!==e.status,children:[(0,t.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"Connect"]})]})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(B.A,{className:"w-5 h-5"}),"Resources"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"CPU"}),(0,t.jsxs)("span",{children:[e.resource_usage.cpu_cores," cores"]})]}),E&&(0,t.jsx)(i.k,{value:E.cpu_usage_percent,className:"h-2 mt-1"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(S.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Memory"}),(0,t.jsxs)("span",{children:[(e.resource_usage.memory_mb/1024).toFixed(1)," GB"]})]}),E&&(0,t.jsx)(i.k,{value:E.memory_usage_percent,className:"h-2 mt-1"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Storage"}),(0,t.jsxs)("span",{children:[e.storage.used,e.storage.unit," / ",e.storage.total,e.storage.unit]})]}),(0,t.jsx)(i.k,{value:e.storage.used/e.storage.total*100,className:"h-2 mt-1"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Connections"}),(0,t.jsxs)("span",{children:[e.connections.active," / ",e.connections.max]})]}),(0,t.jsx)(i.k,{value:e.connections.active/e.connections.max*100,className:"h-2 mt-1"})]})]})]})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"Details"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Instance ID"}),(0,t.jsx)("span",{className:"font-mono text-xs bg-neutral-800 px-2 py-1 rounded",children:e.instance_id})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Template ID"}),(0,t.jsx)("span",{className:"font-mono text-xs bg-neutral-800 px-2 py-1 rounded",children:e.template_id})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Created"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Updated"}),(0,t.jsx)("span",{children:new Date(e.updated_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Deployment Time"}),(0,t.jsxs)("span",{children:[Math.round(e.deployment_time/1e3),"s"]})]})]})]})]})}),(0,t.jsx)(u,{value:"metrics",children:(0,t.jsx)(K,{deployment:e,metrics:E})}),(0,t.jsx)(u,{value:"tenants",children:(0,t.jsx)(I,{deploymentId:e.id,tenants:U})}),(0,t.jsx)(u,{value:"backups",children:(0,t.jsx)(Q,{deploymentId:e.id,backups:P})}),(0,t.jsx)(u,{value:"logs",children:(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"Database Logs"]})}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsxs)("div",{className:"bg-black rounded-lg p-4 font-mono text-sm",children:[(0,t.jsx)("div",{className:"text-green-400 mb-2",children:"[INFO] Database started successfully"}),(0,t.jsx)("div",{className:"text-blue-400 mb-2",children:"[DEBUG] Connection pool initialized with 10 connections"}),(0,t.jsx)("div",{className:"text-yellow-400 mb-2",children:"[WARN] High CPU usage detected: 85%"}),(0,t.jsx)("div",{className:"text-neutral-400 mb-2",children:"[INFO] Backup completed successfully"}),(0,t.jsx)("div",{className:"text-red-400",children:"[ERROR] Query timeout after 30 seconds"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsx)("span",{className:"text-sm text-neutral-400",children:"Showing last 100 entries"}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})]})})]})]})}},37826:(e,s,a)=>{a.d(s,{Cf:()=>o,Es:()=>u,L3:()=>j,c7:()=>h,lG:()=>i,rr:()=>p,zM:()=>d});var t=a(60687),l=a(43210),n=a(10991),c=a(11860),r=a(96241);let i=n.bL,d=n.l9,x=n.ZL;n.bm;let m=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(n.hJ,{ref:a,className:(0,r.cn)("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=n.hJ.displayName;let o=l.forwardRef(({className:e,children:s,...a},l)=>(0,t.jsxs)(x,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(n.UC,{ref:l,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-800 bg-neutral-900 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...a,children:[s,(0,t.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));o.displayName=n.UC.displayName;let h=({className:e,...s})=>(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});h.displayName="DialogHeader";let u=({className:e,...s})=>(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="DialogFooter";let j=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(n.hE,{ref:a,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight text-white",e),...s}));j.displayName=n.hE.displayName;let p=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(n.VY,{ref:a,className:(0,r.cn)("text-sm text-neutral-400",e),...s}));p.displayName=n.VY.displayName},86287:(e,s,a)=>{a.d(s,{k:()=>r});var t=a(60687),l=a(43210),n=a(21210),c=a(96241);let r=l.forwardRef(({className:e,value:s,...a},l)=>(0,t.jsx)(n.bL,{ref:l,className:(0,c.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,t.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));r.displayName=n.bL.displayName}};