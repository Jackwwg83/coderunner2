"use strict";exports.id=853,exports.ids=[853],exports.modules={55853:(e,s,a)=>{a.d(s,{A:()=>K});var l=a(60687),t=a(43210),r=a(59821),n=a(24934),i=a(55192),c=a(68988),d=a(39390),o=a(63974),x=a(24851),m=a(96241);let h=t.forwardRef(({className:e,...s},a)=>(0,l.jsxs)(x.bL,{ref:a,className:(0,m.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[(0,l.jsx)(x.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,l.jsx)(x.Q6,{className:"absolute h-full bg-primary"})}),(0,l.jsx)(x.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));h.displayName=x.bL.displayName;var u=a(28559),j=a(13964),p=a(14952),g=a(93613),N=a(61611),f=a(24413),v=a(10022),b=a(41862),y=a(30736),w=a(30036),C=a(8819),k=a(49153),A=a(79351);let S=(0,w.default)(async()=>{},{loadableGenerated:{modules:["components/editor/MonacoEditor.tsx -> @monaco-editor/react"]},ssr:!1,loading:()=>(0,l.jsx)("div",{className:"flex items-center justify-center h-96 bg-neutral-900 rounded-lg",children:(0,l.jsx)("div",{className:"text-neutral-400",children:"Loading editor..."})})}),$=e=>{switch(e.split(".").pop()?.toLowerCase()){case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"py":return"python";case"yaml":case"yml":return"yaml";case"json":return"json";case"md":return"markdown";case"css":return"css";case"html":return"html";case"sql":return"sql";case"sh":return"shell";case"dockerfile":return"dockerfile";default:return"plaintext"}},F=e=>{switch(e.split(".").pop()?.toLowerCase()){case"js":return"\uD83D\uDCDC";case"ts":case"tsx":return"\uD83D\uDD37";case"jsx":return"⚛️";case"py":return"\uD83D\uDC0D";case"yaml":case"yml":return"⚙️";case"json":return"\uD83D\uDCCB";case"md":return"\uD83D\uDCDD";case"css":return"\uD83C\uDFA8";case"html":return"\uD83C\uDF10";case"sql":return"\uD83D\uDDC3️";case"dockerfile":return"\uD83D\uDC33";default:return"\uD83D\uDCC4"}};function E({files:e,activeFile:s,onFileChange:a,onFileSave:c,onFileSelect:d,height:o="500px",readOnly:x=!1,showToolbar:m=!0,className:h=""}){let[u,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),N=(0,t.useRef)(null),f=e.find(e=>e.path===s)||e[0];return f?(0,l.jsxs)(i.Zp,{className:`bg-neutral-900 border-neutral-800 ${h} ${u?"fixed inset-0 z-50 rounded-none border-none":""}`,children:[m&&(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-neutral-800",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-lg",children:F(f.path)}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-sm",children:f.path.split("/").pop()}),(0,l.jsx)("div",{className:"text-xs text-neutral-400",children:f.path})]}),p&&(0,l.jsx)(r.E,{variant:"outline",className:"text-xs text-orange-400 border-orange-400",children:"Modified"}),(0,l.jsx)(r.E,{variant:"secondary",className:"text-xs",children:$(f.path)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>{c&&f&&(c(f.path,f.content),g(!1))},disabled:!p,className:"hover:bg-neutral-800",children:(0,l.jsx)(C.A,{className:"w-4 h-4"})}),(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>{j(!u)},className:"hover:bg-neutral-800",children:u?(0,l.jsx)(k.A,{className:"w-4 h-4"}):(0,l.jsx)(A.A,{className:"w-4 h-4"})})]})]}),(0,l.jsx)("div",{className:"relative",style:{height:u?"calc(100vh - 60px)":o},children:(0,l.jsx)(S,{height:"100%",defaultLanguage:$(f.path),language:$(f.path),value:f.content,onChange:e=>{if(!f||x)return;let s=e||"";a(f.path,s),g(s!==f.content)},onMount:e=>{N.current=e,e.updateOptions({fontSize:14,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,wordWrap:"on",contextmenu:!0,selectOnLineNumbers:!0,roundedSelection:!1,readOnly:x,cursorStyle:"line",glyphMargin:!1,folding:!0,lineNumbers:"on",lineDecorationsWidth:0,lineNumbersMinChars:0}),e.addCommand(e.KeyMod.CtrlCmd|e.KeyCode.KeyS,()=>{c&&f&&(c(f.path,f.content),g(!1))})},theme:"vs-dark",options:{readOnly:x,fontSize:14,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,wordWrap:"on",contextmenu:!0,selectOnLineNumbers:!0,roundedSelection:!1,cursorStyle:"line",glyphMargin:!1,folding:!0,lineNumbers:"on",padding:{top:16,bottom:16},renderLineHighlight:"all",smoothScrolling:!0,mouseWheelZoom:!0}})}),u&&(0,l.jsx)("div",{className:"absolute top-2 right-2",children:(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>j(!1),className:"bg-neutral-800 hover:bg-neutral-700",children:(0,l.jsx)(k.A,{className:"w-4 h-4"})})})]}):(0,l.jsx)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64 text-neutral-400",children:"No file selected"})})}var B=a(96474),L=a(11860);let Z=e=>{switch(e.split(".").pop()?.toLowerCase()){case"js":return"\uD83D\uDCDC";case"ts":case"tsx":return"\uD83D\uDD37";case"jsx":return"⚛️";case"py":return"\uD83D\uDC0D";case"yaml":case"yml":return"⚙️";case"json":return"\uD83D\uDCCB";case"md":return"\uD83D\uDCDD";case"css":return"\uD83C\uDFA8";case"html":return"\uD83C\uDF10";case"sql":return"\uD83D\uDDC3️";case"dockerfile":return"\uD83D\uDC33";default:return"\uD83D\uDCC4"}},_=e=>e.split("/").pop()||e,R=e=>e.split(".").pop()?.toLowerCase()||"";function z({files:e,activeFile:s,onFileSelect:a,onFileClose:r,onFileAdd:c,maxTabs:d=10}){let[o,x]=(0,t.useState)(null),m=e.slice(0,d),h=e.length>d,u=e=>{a(e)},j=(e,s)=>{e.stopPropagation(),r&&r(s)};return 0===e.length?(0,l.jsx)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,l.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,l.jsxs)(n.$,{variant:"ghost",onClick:c,className:"hover:bg-neutral-800 text-neutral-400",children:[(0,l.jsx)(B.A,{className:"w-4 h-4 mr-2"}),"Add File"]})})}):(0,l.jsx)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,l.jsxs)("div",{className:"flex items-center overflow-x-auto scrollbar-hide",children:[m.map(a=>{let t=a.path===s,i=_(a.path),c=R(a.path);return(0,l.jsxs)("div",{className:`
                flex items-center gap-2 px-3 py-2 cursor-pointer border-r border-neutral-800 
                min-w-0 flex-shrink-0 transition-all duration-200
                ${t?"bg-neutral-800 text-white border-b-2 border-orange-500":"text-neutral-400 hover:bg-neutral-800/50 hover:text-white"}
                ${o===a.path?"bg-neutral-800/50":""}
              `,onClick:()=>u(a.path),onMouseEnter:()=>x(a.path),onMouseLeave:()=>x(null),title:a.path,children:[(0,l.jsx)("span",{className:"text-sm flex-shrink-0",children:Z(a.path)}),(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("div",{className:"text-sm font-medium truncate max-w-32",children:i}),c&&(0,l.jsx)("div",{className:"text-xs text-neutral-500 truncate",children:c})]}),a.modified&&(0,l.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full flex-shrink-0"}),r&&e.length>1&&(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:e=>j(e,a.path),className:`
                    w-4 h-4 p-0 hover:bg-neutral-700 rounded-sm flex-shrink-0
                    ${o===a.path||t?"opacity-100":"opacity-0"}
                    transition-opacity duration-200
                  `,children:(0,l.jsx)(L.A,{className:"w-3 h-3"})})]},a.path)}),h&&(0,l.jsxs)("div",{className:"flex items-center px-3 py-2 text-neutral-400 text-sm border-r border-neutral-800",children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-1"}),"+",e.length-d]}),c&&(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:c,className:"flex-shrink-0 mx-2 hover:bg-neutral-800",children:(0,l.jsx)(B.A,{className:"w-4 h-4"})})]})})}var D=a(78272),M=a(18179),W=a(82570),q=a(16023),G=a(99270);let U=e=>{switch(e.split(".").pop()?.toLowerCase()){case"js":return"\uD83D\uDCDC";case"ts":case"tsx":return"\uD83D\uDD37";case"jsx":return"⚛️";case"py":return"\uD83D\uDC0D";case"yaml":case"yml":return"⚙️";case"json":return"\uD83D\uDCCB";case"md":return"\uD83D\uDCDD";case"css":return"\uD83C\uDFA8";case"html":return"\uD83C\uDF10";case"sql":return"\uD83D\uDDC3️";case"dockerfile":return"\uD83D\uDC33";default:return"\uD83D\uDCC4"}},O=e=>{let s=[],a=new Map;e.forEach(e=>{let s=e.path.split("/"),l="";s.forEach((t,r)=>{let n=r===s.length-1;if(l=l?`${l}/${t}`:t,!a.has(l)){let s={path:l,name:t,type:n?"file":"folder",children:n?void 0:[],isExpanded:!1,modified:n?e.modified:void 0};a.set(l,s)}})}),a.forEach((e,l)=>{let t=l.substring(0,l.lastIndexOf("/"));if(t){let s=a.get(t);s&&s.children&&s.children.push(e)}else s.push(e)});let l=e=>{e.sort((e,s)=>e.type!==s.type?"folder"===e.type?-1:1:e.name.localeCompare(s.name)),e.forEach(e=>{e.children&&l(e.children)})};return l(s),s};function J({files:e,activeFile:s,onFileSelect:a,onFileAdd:d,onFileUpload:o,className:x=""}){let[m,h]=(0,t.useState)(""),[u,j]=(0,t.useState)(new Set),g=O(e),N=e=>{let s=new Set(u);s.has(e)?s.delete(e):s.add(e),j(s)},f=(e,s)=>s?e.filter(e=>{if("file"===e.type)return e.name.toLowerCase().includes(s.toLowerCase());{let a=e.children&&f(e.children,s).length>0;return e.name.toLowerCase().includes(s.toLowerCase())||a}}).map(e=>({...e,children:e.children?f(e.children,s):void 0})):e,v=(e,t=0)=>{let r=u.has(e.path),n=s===e.path,i=e.children?f(e.children,m):[];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:`
            flex items-center gap-2 px-2 py-1 cursor-pointer rounded-sm transition-colors
            hover:bg-neutral-800 group
            ${n?"bg-orange-500/20 text-orange-400":"text-neutral-300"}
          `,style:{paddingLeft:`${16*t+8}px`},onClick:()=>{"folder"===e.type?N(e.path):a(e.path)},children:["folder"===e.type&&(0,l.jsxs)(l.Fragment,{children:[r?(0,l.jsx)(D.A,{className:"w-4 h-4 flex-shrink-0"}):(0,l.jsx)(p.A,{className:"w-4 h-4 flex-shrink-0"}),r?(0,l.jsx)(M.A,{className:"w-4 h-4 flex-shrink-0"}):(0,l.jsx)(W.A,{className:"w-4 h-4 flex-shrink-0"})]}),"file"===e.type&&(0,l.jsx)("span",{className:"text-sm flex-shrink-0",children:U(e.path)}),(0,l.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),e.modified&&(0,l.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full flex-shrink-0"})]}),"folder"===e.type&&r&&i.length>0&&(0,l.jsx)("div",{children:i.map(e=>v(e,t+1))})]},e.path)},b=f(g,m);return(0,l.jsxs)(i.Zp,{className:`bg-neutral-900 border-neutral-800 h-full ${x}`,children:[(0,l.jsxs)(i.aR,{className:"pb-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(i.ZB,{className:"text-sm",children:"Files"}),(0,l.jsxs)("div",{className:"flex gap-1",children:[d&&(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>d(),children:(0,l.jsx)(B.A,{className:"w-4 h-4"})}),o&&(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:o,children:(0,l.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(G.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),(0,l.jsx)(c.p,{placeholder:"Search files...",value:m,onChange:e=>h(e.target.value),className:"pl-9 bg-neutral-800 border-neutral-700 focus:border-orange-500 text-sm"})]})]}),(0,l.jsxs)(i.Wu,{className:"pt-0 max-h-96 overflow-y-auto",children:[0===b.length?(0,l.jsx)("div",{className:"text-center text-neutral-400 py-8",children:0===e.length?"No files":"No matching files"}):(0,l.jsx)("div",{className:"space-y-1",children:b.map(e=>v(e))}),e.length>0&&(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-neutral-800",children:(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-neutral-400",children:[(0,l.jsxs)("span",{children:[e.length," files"]}),(0,l.jsxs)(r.E,{variant:"outline",className:"text-xs",children:[e.filter(e=>e.modified).length," modified"]})]})})]})]})}var P=a(34091),V=a(51214);function T({initialFiles:e=[],onFilesChange:s,onSave:a,onFileUpload:c,showSidebar:d=!0,height:o="600px",readOnly:x=!1,autoSave:m=!1,autoSaveDelay:h=2e3,className:u=""}){let[j,p]=(0,t.useState)(e),[g,N]=(0,t.useState)(e.length>0?e[0].path:void 0),[f,v]=(0,t.useState)(d),[b,y]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),A=e=>{N(e)},S=()=>{let e={path:`untitled-${j.length+1}.js`,content:"// New file\n",language:"javascript",modified:!0},a=[...j,e];p(a),N(e.path),s?.(a)},$=()=>{let e=document.createElement("input");e.type="file",e.multiple=!0,e.accept=".js,.ts,.tsx,.jsx,.py,.yaml,.yml,.json,.md,.css,.html,.sql,.sh",e.onchange=async e=>{let a=e.target.files;if(!a)return;let l=Array.from(a);if(c)c(l);else{let e=[];for(let s of l){let a=await s.text(),l=s.name.split(".").pop()?.toLowerCase()||"plaintext";e.push({path:s.name,content:a,language:l,modified:!1})}let a=[...j,...e];p(a),e.length>0&&N(e[0].path),s?.(a)}},e.click()};return(0,l.jsxs)("div",{className:`flex flex-col gap-3 ${u}`,children:[(0,l.jsx)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,l.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(P.A,{className:"w-5 h-5 text-orange-400"}),(0,l.jsx)("span",{className:"font-semibold",children:"Code Editor"})]}),j.length>0&&(0,l.jsxs)(r.E,{variant:"outline",className:"text-xs",children:[j.length," files"]}),b&&(0,l.jsxs)(r.E,{variant:"outline",className:"text-xs text-orange-400 border-orange-400",children:[j.filter(e=>e.modified).length," modified"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>v(!f),className:"hover:bg-neutral-800",children:(0,l.jsx)(V.A,{className:"w-4 h-4"})}),(0,l.jsx)(n.$,{size:"sm",variant:"ghost",onClick:$,className:"hover:bg-neutral-800",children:(0,l.jsx)(q.A,{className:"w-4 h-4"})}),j.length>0&&(0,l.jsxs)(n.$,{size:"sm",variant:"ghost",onClick:()=>{a&&a(j),p(e=>{let a=e.map(e=>({...e,modified:!1}));return s?.(a),a})},disabled:!b,className:"hover:bg-neutral-800",children:[(0,l.jsx)(C.A,{className:"w-4 h-4"}),b&&(0,l.jsx)("span",{className:"ml-2 text-xs",children:"Save All"})]})]})]})}),(0,l.jsxs)("div",{className:"flex gap-3",style:{height:o},children:[f&&(0,l.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,l.jsx)(J,{files:j,activeFile:g,onFileSelect:A,onFileAdd:S,onFileUpload:$,className:"h-full"})}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[j.length>0&&(0,l.jsx)(z,{files:j,activeFile:g,onFileSelect:A,onFileClose:e=>{let a=j.filter(s=>s.path!==e);if(p(a),g===e){let s=a[Math.min(j.findIndex(s=>s.path===e),a.length-1)];N(s?.path)}s?.(a)},onFileAdd:S}),j.length>0?(0,l.jsx)(E,{files:j,activeFile:g,onFileChange:(e,a)=>{p(l=>{let t=l.map(s=>s.path===e?{...s,content:a,modified:!0}:s);return s?.(t),t})},onFileSave:(e,a)=>{p(l=>{let t=l.map(s=>s.path===e?{...s,content:a,modified:!1}:s);return s?.(t),t})},onFileSelect:A,height:"100%",readOnly:x,showToolbar:!1,className:"flex-1"}):(0,l.jsx)(i.Zp,{className:"bg-neutral-900 border-neutral-800 flex-1 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(P.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-300 mb-2",children:"No files open"}),(0,l.jsx)("p",{className:"text-neutral-400 mb-4",children:"Upload files or create a new file to start coding"}),(0,l.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,l.jsxs)(n.$,{onClick:$,className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,l.jsx)(q.A,{className:"w-4 h-4 mr-2"}),"Upload Files"]}),(0,l.jsxs)(n.$,{variant:"outline",onClick:S,className:"border-neutral-700 hover:bg-neutral-800",children:[(0,l.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"New File"]})]})]})})]})]})]})}function I({template:e,onFilesChange:s,onBack:a,onNext:c,className:d=""}){let[o,x]=(0,t.useState)([]),[m,h]=(0,t.useState)(!1);return e?(0,l.jsxs)("div",{className:`space-y-6 ${d}`,children:[(0,l.jsx)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,l.jsx)(i.aR,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(P.A,{className:"w-6 h-6 text-orange-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.ZB,{className:"text-xl",children:"Configure Deployment Files"}),(0,l.jsxs)("p",{className:"text-sm text-neutral-400 mt-1",children:["Edit configuration files for your ",e.name," deployment"]})]})]}),(0,l.jsxs)(r.E,{variant:"outline",className:"text-xs",children:[e.type," ",e.version]})]}),m&&(0,l.jsx)(r.E,{variant:"outline",className:"text-orange-400 border-orange-400",children:"Unsaved Changes"})]})})}),(0,l.jsx)(T,{initialFiles:o,onFilesChange:e=>{x(e),s?.(e)},onSave:e=>{x(e),s?.(e)},onFileUpload:e=>{let a=[];e.forEach(async e=>{let s=await e.text(),l=e.name.split(".").pop()?.toLowerCase()||"plaintext";a.push({path:e.name,content:s,language:l,modified:!1})});let l=[...o,...a];x(l),s?.(l)},height:"500px",autoSave:!0,autoSaveDelay:1e3,showSidebar:!0}),(0,l.jsxs)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)(i.ZB,{className:"text-sm flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"w-4 h-4"}),"Deployment Files (",o.length,")"]})}),(0,l.jsx)(i.Wu,{children:0===o.length?(0,l.jsx)("div",{className:"text-center text-neutral-400 py-4",children:"No files configured"}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:o.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-neutral-800 rounded-lg",children:[(0,l.jsx)(v.A,{className:"w-4 h-4 text-neutral-400"}),(0,l.jsx)("span",{className:"text-sm flex-1 truncate",children:e.path}),e.modified&&(0,l.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]},e.path))})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)(n.$,{variant:"outline",onClick:a,className:"border-neutral-700",children:[(0,l.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,l.jsxs)(n.$,{onClick:c,disabled:0===o.length,className:"bg-orange-500 hover:bg-orange-600 text-black",children:["Continue to Review",(0,l.jsx)(p.A,{className:"w-4 h-4 ml-2"})]})]})]}):(0,l.jsx)(i.Zp,{className:`bg-neutral-900 border-neutral-800 ${d}`,children:(0,l.jsx)(i.Wu,{className:"flex items-center justify-center py-12",children:(0,l.jsxs)("div",{className:"text-center text-neutral-400",children:[(0,l.jsx)(g.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,l.jsx)("p",{children:"No template selected"})]})})})}function K({onBack:e,onSuccess:s}){let{templates:a,loading:x,error:m,fetchTemplates:w,deployDatabase:C,clearError:k}=(0,y.g)(),[A,S]=(0,t.useState)(1),[$,F]=(0,t.useState)(null),[E,B]=(0,t.useState)({name:"",environment:"development",region:"us-east-1",resources:{cpu_cores:1,memory_mb:1024,storage_gb:10},configuration:{}}),[L,Z]=(0,t.useState)([]),_=e=>{F(e),B(s=>({...s,templateId:e.id}))},R=(e,s)=>{if(e.startsWith("resources.")){let a=e.split(".")[1];B(e=>({...e,resources:{...e.resources,[a]:s}}))}else B(a=>({...a,[e]:s}))},z=async()=>{if($&&E.name)try{await C(E),s()}catch(e){}},D=e=>{switch(e){case"postgresql":return"\uD83D\uDC18";case"mysql":return"\uD83D\uDC2C";case"mongodb":return"\uD83C\uDF43";case"redis":return"\uD83D\uDD34";case"influxdb":return"\uD83D\uDCCA";default:return"\uD83D\uDCBE"}},M=()=>{let{cpu_cores:e,memory_mb:s,storage_gb:a}=E.resources||{cpu_cores:1,memory_mb:1024,storage_gb:10};return(10*e+.01*s+.1*a).toFixed(2)},W=[{value:"us-east-1",label:"US East (N. Virginia)"},{value:"us-west-2",label:"US West (Oregon)"},{value:"eu-west-1",label:"Europe (Ireland)"},{value:"ap-southeast-1",label:"Asia Pacific (Singapore)"}];return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-neutral-800",children:[(0,l.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Deploy New Database"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${A>=1?"bg-orange-500 text-black":"bg-neutral-800 text-neutral-400"}`,children:[A>1?(0,l.jsx)(j.A,{className:"w-4 h-4"}):"1",(0,l.jsx)("span",{children:"Template"})]}),(0,l.jsx)(p.A,{className:"w-4 h-4 text-neutral-400"}),(0,l.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${A>=2?"bg-orange-500 text-black":"bg-neutral-800 text-neutral-400"}`,children:[A>2?(0,l.jsx)(j.A,{className:"w-4 h-4"}):"2",(0,l.jsx)("span",{children:"Configure"})]}),(0,l.jsx)(p.A,{className:"w-4 h-4 text-neutral-400"}),(0,l.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${A>=3?"bg-orange-500 text-black":"bg-neutral-800 text-neutral-400"}`,children:[A>3?(0,l.jsx)(j.A,{className:"w-4 h-4"}):"3",(0,l.jsx)("span",{children:"Files"})]}),(0,l.jsx)(p.A,{className:"w-4 h-4 text-neutral-400"}),(0,l.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${A>=4?"bg-orange-500 text-black":"bg-neutral-800 text-neutral-400"}`,children:[A>4?(0,l.jsx)(j.A,{className:"w-4 h-4"}):"4",(0,l.jsx)("span",{children:"Review"})]})]})]}),m&&(0,l.jsx)(i.Zp,{className:"bg-red-500/10 border-red-500/20",children:(0,l.jsx)(i.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-3 text-red-400",children:[(0,l.jsx)(g.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:m}),(0,l.jsx)(n.$,{variant:"ghost",size:"sm",onClick:k,className:"ml-auto",children:"Dismiss"})]})})}),1===A&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Choose Database Template"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>(0,l.jsxs)(i.Zp,{className:`cursor-pointer transition-all duration-200 ${$?.id===e.id?"ring-2 ring-orange-500 bg-orange-500/5 border-orange-500/50":"bg-neutral-900 border-neutral-800 hover:border-neutral-700"}`,onClick:()=>_(e),children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:D(e.type)}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.ZB,{className:"text-lg",children:e.name}),(0,l.jsx)(r.E,{variant:"secondary",className:"text-xs mt-1",children:e.version})]})]}),$?.id===e.id&&(0,l.jsx)(j.A,{className:"w-5 h-5 text-orange-500"})]})}),(0,l.jsxs)(i.Wu,{children:[(0,l.jsx)("p",{className:"text-sm text-neutral-400 mb-3",children:e.description}),(0,l.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,l.jsxs)("span",{className:"text-neutral-500",children:["Type: ",e.type]}),(0,l.jsx)(r.E,{variant:"outline",className:"text-xs",children:e.environment})]})]})]},e.id))}),(0,l.jsx)("div",{className:"flex justify-end mt-6",children:(0,l.jsxs)(n.$,{onClick:()=>S(2),disabled:!$,className:"bg-orange-500 hover:bg-orange-600 text-black",children:["Continue",(0,l.jsx)(p.A,{className:"w-4 h-4 ml-2"})]})})]}),2===A&&$&&(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,l.jsxs)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(N.A,{className:"w-5 h-5"}),"Basic Configuration"]})}),(0,l.jsxs)(i.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"name",children:"Database Name *"}),(0,l.jsx)(c.p,{id:"name",placeholder:"my-database",value:E.name,onChange:e=>R("name",e.target.value),className:"bg-neutral-800 border-neutral-700 focus:border-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"environment",children:"Environment"}),(0,l.jsxs)(o.l6,{value:E.environment,onValueChange:e=>R("environment",e),children:[(0,l.jsx)(o.bq,{className:"bg-neutral-800 border-neutral-700",children:(0,l.jsx)(o.yv,{})}),(0,l.jsxs)(o.gC,{children:[(0,l.jsx)(o.eb,{value:"development",children:"Development"}),(0,l.jsx)(o.eb,{value:"staging",children:"Staging"}),(0,l.jsx)(o.eb,{value:"production",children:"Production"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"region",children:"Region"}),(0,l.jsxs)(o.l6,{value:E.region,onValueChange:e=>R("region",e),children:[(0,l.jsx)(o.bq,{className:"bg-neutral-800 border-neutral-700",children:(0,l.jsx)(o.yv,{})}),(0,l.jsx)(o.gC,{children:W.map(e=>(0,l.jsx)(o.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,l.jsxs)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(f.A,{className:"w-5 h-5"}),"Resource Configuration"]})}),(0,l.jsxs)(i.Wu,{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(d.J,{children:["CPU Cores: ",E.resources?.cpu_cores]}),(0,l.jsx)(h,{value:[E.resources?.cpu_cores||1],onValueChange:e=>R("resources.cpu_cores",e[0]),max:16,min:1,step:1,className:"mt-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-neutral-400 mt-1",children:[(0,l.jsx)("span",{children:"1 core"}),(0,l.jsx)("span",{children:"16 cores"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(d.J,{children:["Memory: ",(E.resources?.memory_mb||1024)/1024,"GB"]}),(0,l.jsx)(h,{value:[E.resources?.memory_mb||1024],onValueChange:e=>R("resources.memory_mb",e[0]),max:32768,min:512,step:512,className:"mt-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-neutral-400 mt-1",children:[(0,l.jsx)("span",{children:"0.5GB"}),(0,l.jsx)("span",{children:"32GB"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(d.J,{children:["Storage: ",E.resources?.storage_gb,"GB"]}),(0,l.jsx)(h,{value:[E.resources?.storage_gb||10],onValueChange:e=>R("resources.storage_gb",e[0]),max:1e3,min:5,step:5,className:"mt-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-neutral-400 mt-1",children:[(0,l.jsx)("span",{children:"5GB"}),(0,l.jsx)("span",{children:"1TB"})]})]})]})]})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(i.Zp,{className:"bg-neutral-900 border-neutral-800 sticky top-4",children:[(0,l.jsx)(i.aR,{children:(0,l.jsx)(i.ZB,{className:"text-lg",children:"Deployment Summary"})}),(0,l.jsxs)(i.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 pb-3 border-b border-neutral-800",children:[(0,l.jsx)("span",{className:"text-2xl",children:D($.type)}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:$.name}),(0,l.jsx)("div",{className:"text-sm text-neutral-400",children:$.version})]})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-neutral-400",children:"Name:"}),(0,l.jsx)("span",{children:E.name||"Not set"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-neutral-400",children:"Environment:"}),(0,l.jsx)(r.E,{variant:"outline",className:"text-xs",children:E.environment})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-neutral-400",children:"Region:"}),(0,l.jsx)("span",{children:E.region})]})]}),(0,l.jsxs)("div",{className:"pt-3 border-t border-neutral-800",children:[(0,l.jsx)("div",{className:"text-sm font-medium mb-2",children:"Resources"}),(0,l.jsxs)("div",{className:"space-y-1 text-sm text-neutral-400",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"CPU:"}),(0,l.jsxs)("span",{children:[E.resources?.cpu_cores," cores"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Memory:"}),(0,l.jsxs)("span",{children:[(E.resources?.memory_mb||0)/1024,"GB"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Storage:"}),(0,l.jsxs)("span",{children:[E.resources?.storage_gb,"GB"]})]})]})]}),(0,l.jsx)("div",{className:"pt-3 border-t border-neutral-800",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Estimated Cost:"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-orange-400",children:["$",M(),"/mo"]})]})})]})]})}),(0,l.jsxs)("div",{className:"lg:col-span-3 flex justify-between",children:[(0,l.jsxs)(n.$,{variant:"outline",onClick:()=>S(1),className:"border-neutral-700",children:[(0,l.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,l.jsxs)(n.$,{onClick:()=>S(3),disabled:!E.name,className:"bg-orange-500 hover:bg-orange-600 text-black",children:["Configure Files",(0,l.jsx)(p.A,{className:"w-4 h-4 ml-2"})]})]})]}),3===A&&$&&(0,l.jsx)(I,{template:{id:$.id,name:$.name,type:$.type,version:$.version},onFilesChange:Z,onBack:()=>S(2),onNext:()=>S(4)}),4===A&&$&&(0,l.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,l.jsxs)(i.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,l.jsx)(i.aR,{children:(0,l.jsx)(i.ZB,{className:"text-xl",children:"Review Deployment"})}),(0,l.jsxs)(i.Wu,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-neutral-800 rounded-lg",children:[(0,l.jsx)("span",{className:"text-3xl",children:D($.type)}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-semibold text-lg",children:E.name}),(0,l.jsxs)("div",{className:"text-neutral-400",children:[$.name," v",$.version]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-neutral-400 mb-1",children:"Environment"}),(0,l.jsx)(r.E,{children:E.environment})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-neutral-400 mb-1",children:"Region"}),(0,l.jsx)("div",{className:"text-sm",children:W.find(e=>e.value===E.region)?.label})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-neutral-400 mb-2",children:"Resource Configuration"}),(0,l.jsxs)("div",{className:"bg-neutral-800 p-3 rounded-lg space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"CPU Cores:"}),(0,l.jsx)("span",{children:E.resources?.cpu_cores})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Memory:"}),(0,l.jsxs)("span",{children:[(E.resources?.memory_mb||0)/1024,"GB"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Storage:"}),(0,l.jsxs)("span",{children:[E.resources?.storage_gb,"GB"]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-neutral-400 mb-2",children:"Deployment Files"}),(0,l.jsx)("div",{className:"bg-neutral-800 p-3 rounded-lg space-y-2 text-sm",children:0===L.length?(0,l.jsx)("div",{className:"text-neutral-400",children:"No files configured"}):L.map(e=>(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"w-4 h-4"}),e.path]}),(0,l.jsx)("span",{className:"text-neutral-400",children:e.language})]},e.path))})]}),(0,l.jsx)("div",{className:"p-4 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:"Estimated Monthly Cost"}),(0,l.jsxs)("span",{className:"text-xl font-bold text-orange-400",children:["$",M()]})]})}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsxs)(n.$,{variant:"outline",onClick:()=>S(3),className:"flex-1 border-neutral-700",children:[(0,l.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,l.jsx)(n.$,{onClick:z,disabled:x,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-black",children:x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Deploying..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Deploy Database"]})})]})]})]})})]})}}};