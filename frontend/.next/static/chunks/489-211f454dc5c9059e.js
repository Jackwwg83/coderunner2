"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[489],{1397:(e,s,a)=>{a.d(s,{k:()=>r});var t=a(5155),l=a(2115),n=a(8216),c=a(3999);let r=l.forwardRef((e,s)=>{let{className:a,value:l,...r}=e;return(0,t.jsx)(n.bL,{ref:s,className:(0,c.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:(0,t.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});r.displayName=n.bL.displayName},4489:(e,s,a)=>{a.d(s,{A:()=>ee});var t=a(5155),l=a(2115),n=a(8145),c=a(7168),r=a(8482),i=a(1397),d=a(64),x=a(3999);let m=d.bL,o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.B8,{ref:s,className:(0,x.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});o.displayName=d.B8.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.l9,{ref:s,className:(0,x.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});h.displayName=d.l9.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.UC,{ref:s,className:(0,x.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});u.displayName=d.UC.displayName;var j=a(646),p=a(4186),N=a(5339),g=a(7550),v=a(381),f=a(2525),b=a(4738),w=a(9397),y=a(7580),_=a(9022),A=a(4213),k=a(4357),C=a(3786),B=a(5487),D=a(3314),S=a(1177),Z=a(5880),R=a(9302),M=a(3904),z=a(3082),L=a(9852),T=a(2714),q=a(5784),F=a(9840),E=a(1154),W=a(5525),$=a(4616);function I(e){var s,a,d,x,m,o,h,u,p;let{deploymentId:g,tenants:b}=e,{createTenant:w,deleteTenant:_,loading:k,error:C}=(0,z.g)(),[B,S]=(0,l.useState)(!1),[M,I]=(0,l.useState)({tenant_id:"",isolation_type:"schema",resource_limits:{max_connections:10,storage_quota_mb:100,cpu_quota_percent:10}}),[U,P]=(0,l.useState)(null),J=(e,s)=>{if(e.startsWith("resource_limits.")){let a=e.split(".")[1];I(e=>({...e,resource_limits:{...e.resource_limits,[a]:s}}))}else I(a=>({...a,[e]:s}))},Q=async()=>{if(M.tenant_id)try{await w(g,M),S(!1),I({tenant_id:"",isolation_type:"schema",resource_limits:{max_connections:10,storage_quota_mb:100,cpu_quota_percent:10}})}catch(e){}},H=async e=>{if(confirm("Are you sure you want to delete this tenant? This action cannot be undone.")){P(e);try{await _(g,e)}finally{P(null)}}},O=e=>{switch(e){case"active":return"text-green-400";case"suspended":return"text-yellow-400";case"migrating":return"text-blue-400";case"deleting":return"text-red-400";default:return"text-gray-400"}},G=e=>{switch(e){case"active":return(0,t.jsx)(j.A,{className:"w-4 h-4"});case"suspended":default:return(0,t.jsx)(N.A,{className:"w-4 h-4"});case"migrating":case"deleting":return(0,t.jsx)(E.A,{className:"w-4 h-4 animate-spin"})}},V=e=>{switch(e){case"database":return(0,t.jsx)(A.A,{className:"w-4 h-4 text-blue-400"});case"schema":return(0,t.jsx)(W.A,{className:"w-4 h-4 text-green-400"});case"row":return(0,t.jsx)(y.A,{className:"w-4 h-4 text-yellow-400"});default:return(0,t.jsx)(A.A,{className:"w-4 h-4"})}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Tenant Management"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"Manage database tenants and resource isolation"})]}),(0,t.jsxs)(F.lG,{open:B,onOpenChange:S,children:[(0,t.jsx)(F.zM,{asChild:!0,children:(0,t.jsxs)(c.$,{className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Create Tenant"]})}),(0,t.jsxs)(F.Cf,{className:"sm:max-w-[600px] bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(F.c7,{children:(0,t.jsx)(F.L3,{children:"Create New Tenant"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"tenant_id",children:"Tenant ID *"}),(0,t.jsx)(L.p,{id:"tenant_id",placeholder:"tenant-001",value:M.tenant_id,onChange:e=>J("tenant_id",e.target.value),className:"bg-neutral-800 border-neutral-700"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"isolation_type",children:"Isolation Type"}),(0,t.jsxs)(q.l6,{value:M.isolation_type,onValueChange:e=>J("isolation_type",e),children:[(0,t.jsx)(q.bq,{className:"bg-neutral-800 border-neutral-700",children:(0,t.jsx)(q.yv,{})}),(0,t.jsxs)(q.gC,{children:[(0,t.jsx)(q.eb,{value:"schema",children:"Schema Level"}),(0,t.jsx)(q.eb,{value:"database",children:"Database Level"}),(0,t.jsx)(q.eb,{value:"row",children:"Row Level"})]})]})]})]}),"schema"===M.isolation_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"schema_name",children:"Schema Name (optional)"}),(0,t.jsx)(L.p,{id:"schema_name",placeholder:"tenant_001_schema",value:M.schema_name||"",onChange:e=>J("schema_name",e.target.value),className:"bg-neutral-800 border-neutral-700"})]}),"database"===M.isolation_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(T.J,{htmlFor:"database_name",children:"Database Name (optional)"}),(0,t.jsx)(L.p,{id:"database_name",placeholder:"tenant_001_db",value:M.database_name||"",onChange:e=>J("database_name",e.target.value),className:"bg-neutral-800 border-neutral-700"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Resource Limits"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(T.J,{children:["Max Connections: ",null===(s=M.resource_limits)||void 0===s?void 0:s.max_connections]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)(L.p,{type:"range",min:"1",max:"100",value:null===(a=M.resource_limits)||void 0===a?void 0:a.max_connections,onChange:e=>J("resource_limits.max_connections",parseInt(e.target.value)),className:"flex-1"}),(0,t.jsx)("span",{className:"text-sm text-neutral-400 w-12 text-right",children:null===(d=M.resource_limits)||void 0===d?void 0:d.max_connections})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(T.J,{children:["Storage Quota: ",null===(x=M.resource_limits)||void 0===x?void 0:x.storage_quota_mb,"MB"]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)(L.p,{type:"range",min:"50",max:"10240",step:"50",value:null===(m=M.resource_limits)||void 0===m?void 0:m.storage_quota_mb,onChange:e=>J("resource_limits.storage_quota_mb",parseInt(e.target.value)),className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 w-16 text-right",children:[null===(o=M.resource_limits)||void 0===o?void 0:o.storage_quota_mb,"MB"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(T.J,{children:["CPU Quota: ",null===(h=M.resource_limits)||void 0===h?void 0:h.cpu_quota_percent,"%"]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)(L.p,{type:"range",min:"5",max:"100",step:"5",value:null===(u=M.resource_limits)||void 0===u?void 0:u.cpu_quota_percent,onChange:e=>J("resource_limits.cpu_quota_percent",parseInt(e.target.value)),className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 w-12 text-right",children:[null===(p=M.resource_limits)||void 0===p?void 0:p.cpu_quota_percent,"%"]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>S(!1),className:"border-neutral-700",children:"Cancel"}),(0,t.jsx)(c.$,{onClick:Q,disabled:!M.tenant_id||k,className:"bg-orange-500 hover:bg-orange-600 text-black",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Tenant"})]})]})]})]})]}),C&&(0,t.jsx)(r.Zp,{className:"bg-red-500/10 border-red-500/20",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-red-400",children:[(0,t.jsx)(N.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:C})]})})}),0===b.length?(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(y.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Tenants Yet"}),(0,t.jsx)("p",{className:"text-neutral-400 mb-4",children:"Create your first tenant to start isolating database access"}),(0,t.jsxs)(c.$,{onClick:()=>S(!0),className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Create First Tenant"]})]})})}):(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(e=>(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[V(e.isolation_type),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ZB,{className:"text-lg font-mono",children:e.tenant_id}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:O(e.status),children:G(e.status)}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 capitalize",children:[e.isolation_type," isolation"]}),(0,t.jsx)(n.E,{variant:"secondary",className:"text-xs",children:e.status})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",disabled:"active"!==e.status,children:(0,t.jsx)(v.A,{className:"w-4 h-4"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>H(e.id),disabled:U===e.id,children:U===e.id?(0,t.jsx)(E.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(f.A,{className:"w-4 h-4 text-red-400"})})]})]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[e.schema_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400",children:"Schema"}),(0,t.jsx)("p",{className:"font-mono text-sm",children:e.schema_name})]}),e.database_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400",children:"Database"}),(0,t.jsx)("p",{className:"font-mono text-sm",children:e.database_name})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Connections"}),(0,t.jsxs)("span",{children:["Max ",e.resource_limits.max_connections]})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Storage Quota"}),(0,t.jsxs)("span",{children:[e.resource_limits.storage_quota_mb,"MB"]})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"CPU Quota"}),(0,t.jsxs)("span",{children:[e.resource_limits.cpu_quota_percent,"%"]})]}),(0,t.jsx)(i.k,{value:e.resource_limits.cpu_quota_percent,className:"h-1 mt-1"})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-neutral-800",children:(0,t.jsxs)("span",{className:"text-neutral-400",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})})]})]},e.id))})]})}var U=a(1539),P=a(133),J=a(1788);function Q(e){let{deploymentId:s,backups:a}=e,{createBackup:d,restoreBackup:x,deleteBackup:m,loading:o,error:h}=(0,z.g)(),[u,g]=(0,l.useState)(!1),[v,b]=(0,l.useState)("full"),[w,y]=(0,l.useState)(null),A=async()=>{try{await d(s,v),g(!1)}catch(e){}},k=async e=>{if(confirm("Are you sure you want to restore from backup ".concat(e.backup_id,"? This will overwrite current data."))){y({id:e.id,action:"restore"});try{await x(s,e.backup_id)}finally{y(null)}}},C=async e=>{if(confirm("Are you sure you want to delete backup ".concat(e.backup_id,"? This action cannot be undone."))){y({id:e.id,action:"delete"});try{await m(s,e.backup_id)}finally{y(null)}}},B=e=>{switch(e){case"completed":return"text-green-400";case"creating":return"text-blue-400";case"failed":return"text-red-400";case"restoring":return"text-yellow-400";default:return"text-gray-400"}},D=e=>{switch(e){case"completed":return(0,t.jsx)(j.A,{className:"w-4 h-4"});case"creating":case"restoring":return(0,t.jsx)(E.A,{className:"w-4 h-4 animate-spin"});case"failed":return(0,t.jsx)(N.A,{className:"w-4 h-4"});default:return(0,t.jsx)(p.A,{className:"w-4 h-4"})}},S=e=>{switch(e){case"full":return(0,t.jsx)(_.A,{className:"w-4 h-4 text-blue-400"});case"incremental":return(0,t.jsx)(U.A,{className:"w-4 h-4 text-green-400"});case"differential":return(0,t.jsx)(Z.A,{className:"w-4 h-4 text-purple-400"});default:return(0,t.jsx)(_.A,{className:"w-4 h-4"})}},R=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]},M=e=>{let s=new Date,a=(new Date(e).getTime()-s.getTime())/864e5;return a<=7&&a>0},L=e=>new Date(e)<=new Date,T=[...a].sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()),I=T.filter(e=>"completed"===e.status&&!L(e.expires_at)),Q=T.filter(e=>"completed"!==e.status);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Backup Management"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"Create, manage, and restore database backups"})]}),(0,t.jsxs)(F.lG,{open:u,onOpenChange:g,children:[(0,t.jsx)(F.zM,{asChild:!0,children:(0,t.jsxs)(c.$,{className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Create Backup"]})}),(0,t.jsxs)(F.Cf,{className:"sm:max-w-[400px] bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(F.c7,{children:(0,t.jsx)(F.L3,{children:"Create New Backup"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Backup Type"}),(0,t.jsxs)(q.l6,{value:v,onValueChange:e=>b(e),children:[(0,t.jsx)(q.bq,{className:"bg-neutral-800 border-neutral-700",children:(0,t.jsx)(q.yv,{})}),(0,t.jsxs)(q.gC,{children:[(0,t.jsx)(q.eb,{value:"full",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"w-4 h-4 text-blue-400"}),"Full Backup"]})}),(0,t.jsx)(q.eb,{value:"incremental",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-4 h-4 text-green-400"}),"Incremental Backup"]})})]})]})]}),(0,t.jsx)("div",{className:"bg-neutral-800 p-3 rounded-lg text-sm",children:"full"===v?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Full Backup"}),(0,t.jsx)("div",{className:"text-neutral-400",children:"Complete snapshot of the entire database. Takes more time and storage but provides complete data recovery."})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Incremental Backup"}),(0,t.jsx)("div",{className:"text-neutral-400",children:"Only backs up data changed since the last backup. Faster and uses less storage."})]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>g(!1),className:"border-neutral-700",children:"Cancel"}),(0,t.jsx)(c.$,{onClick:A,disabled:o,className:"bg-orange-500 hover:bg-orange-600 text-black",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"w-4 h-4 mr-2"}),"Create Backup"]})})]})]})]})]})]}),h&&(0,t.jsx)(r.Zp,{className:"bg-red-500/10 border-red-500/20",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-red-400",children:[(0,t.jsx)(N.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:h})]})})}),Q.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Active Operations"}),(0,t.jsx)("div",{className:"space-y-3",children:Q.map(e=>(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsxs)(r.Wu,{className:"pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[S(e.type),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium font-mono text-sm",children:e.backup_id}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:B(e.status),children:D(e.status)}),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 capitalize",children:[e.status," • ",e.type," backup"]})]})]})]}),(0,t.jsxs)("div",{className:"text-sm text-neutral-400",children:["Started: ",new Date(e.created_at).toLocaleTimeString()]})]}),"creating"===e.status&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(i.k,{value:65,className:"h-2"})})]})},e.id))})]}),0===I.length&&0===Q.length?(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(_.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Backups Yet"}),(0,t.jsx)("p",{className:"text-neutral-400 mb-4",children:"Create your first backup to protect your data"}),(0,t.jsxs)(c.$,{onClick:()=>g(!0),className:"bg-orange-500 hover:bg-orange-600 text-black",children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Create First Backup"]})]})})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Available Backups"}),(0,t.jsx)("div",{className:"space-y-4",children:I.map(e=>(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 transition-colors ".concat(M(e.expires_at)?"border-yellow-500/50":"border-neutral-800"),children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[S(e.type),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ZB,{className:"text-lg font-mono",children:e.backup_id}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:B(e.status),children:D(e.status)}),(0,t.jsx)(n.E,{variant:"secondary",className:"text-xs capitalize",children:e.type}),e.encryption_enabled&&(0,t.jsxs)(n.E,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(W.A,{className:"w-3 h-3 mr-1"}),"Encrypted"]}),"none"!==e.compression&&(0,t.jsx)(n.E,{variant:"outline",className:"text-xs capitalize",children:e.compression})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>k(e),disabled:(null==w?void 0:w.id)===e.id||"completed"!==e.status,children:(null==w?void 0:w.id)===e.id&&(null==w?void 0:w.action)==="restore"?(0,t.jsx)(E.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(P.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(J.A,{className:"w-4 h-4 text-green-400"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>C(e),disabled:(null==w?void 0:w.id)===e.id,children:(null==w?void 0:w.id)===e.id&&(null==w?void 0:w.action)==="delete"?(0,t.jsx)(E.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(f.A,{className:"w-4 h-4 text-red-400"})})]})]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Size:"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:R(e.size_bytes)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Location:"}),(0,t.jsx)("span",{className:"ml-2 font-mono text-xs",children:e.storage_location})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Created:"}),(0,t.jsx)("span",{className:"ml-2",children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Expires:"}),(0,t.jsx)("span",{className:"ml-2 ".concat(M(e.expires_at)?"text-yellow-400":"text-neutral-300"),children:new Date(e.expires_at).toLocaleDateString()}),M(e.expires_at)&&(0,t.jsx)(N.A,{className:"w-4 h-4 text-yellow-400"})]})]}),M(e.expires_at)&&(0,t.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[(0,t.jsx)(N.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"This backup will expire soon. Consider creating a new one."})]})})]})]},e.id))})]})]})}var H=a(3109),O=a(8500),G=a(7712),V=a(1243);let Y=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,a=[],t=.3*e;for(let l=s;l>=0;l--){let s=new Date(Date.now()-3e5*l),n=Math.max(0,Math.min(100,e+(Math.random()-.5)*t));a.push({time:s,value:n})}return a},K=e=>{let{data:s,color:a="#f97316"}=e,l=Math.max(...s.map(e=>e.value)),n=Math.min(...s.map(e=>e.value)),c=l-n||1;return(0,t.jsx)("div",{className:"h-12 flex items-end justify-between gap-1",children:s.slice(-12).map((e,s)=>(0,t.jsx)("div",{className:"bg-orange-500/20 rounded-sm min-w-[2px]",style:{height:"".concat((e.value-n)/c*100,"%"),backgroundColor:a,opacity:.7}},s))})};function X(e){let{deployment:s,metrics:a}=e,[d,x]=(0,l.useState)(new Date),[m,o]=(0,l.useState)({cpu:[],memory:[],connections:[],qps:[]});(0,l.useEffect)(()=>{a&&(o({cpu:Y(a.cpu_usage_percent),memory:Y(a.memory_usage_percent),connections:Y(a.connections_active/a.connections_max*100),qps:Y(Math.min(100,2*a.queries_per_second))}),x(new Date))},[a]);let h=e=>{var s;if(e.length<2)return"stable";let a=e.slice(-3),t=a.reduce((e,s)=>e+s.value,0)/a.length,l=(null===(s=e[e.length-4])||void 0===s?void 0:s.value)||t;return t>1.05*l?"up":t<.95*l?"down":"stable"},u=e=>{switch(e){case"up":return(0,t.jsx)(H.A,{className:"w-4 h-4 text-red-400"});case"down":return(0,t.jsx)(O.A,{className:"w-4 h-4 text-green-400"});default:return(0,t.jsx)(G.A,{className:"w-4 h-4 text-neutral-400"})}},N=(e,s)=>e>=s.critical?{status:"critical",color:"text-red-400",icon:V.A}:e>=s.warning?{status:"warning",color:"text-yellow-400",icon:V.A}:{status:"healthy",color:"text-green-400",icon:j.A};if(!a)return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(A.A,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Metrics Available"}),(0,t.jsx)("p",{className:"text-neutral-400",children:"running"===s.status?"Waiting for metrics data...":"Database must be running to collect metrics"})]})})})});let g=N(a.cpu_usage_percent,{warning:70,critical:90}),v=N(a.memory_usage_percent,{warning:80,critical:95}),f=N(a.storage_usage_percent,{warning:85,critical:95});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Performance Metrics"}),(0,t.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"Real-time database performance monitoring"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-neutral-400",children:["Last updated: ",d.toLocaleTimeString()]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.A,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"CPU Usage"})]}),u(h(m.cpu))]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[a.cpu_usage_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:g.color,children:(0,t.jsx)(g.icon,{className:"w-5 h-5"})})]}),(0,t.jsx)(i.k,{value:a.cpu_usage_percent,className:"h-2"}),(0,t.jsx)(K,{data:m.cpu,color:"#3b82f6"})]})})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.A,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Memory"})]}),u(h(m.memory))]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[a.memory_usage_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:v.color,children:(0,t.jsx)(v.icon,{className:"w-5 h-5"})})]}),(0,t.jsx)(i.k,{value:a.memory_usage_percent,className:"h-2"}),(0,t.jsx)(K,{data:m.memory,color:"#10b981"})]})})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Storage"})]}),(0,t.jsxs)(n.E,{variant:"secondary",className:"text-xs",children:[s.storage.used,s.storage.unit]})]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[a.storage_usage_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:f.color,children:(0,t.jsx)(f.icon,{className:"w-5 h-5"})})]}),(0,t.jsx)(i.k,{value:a.storage_usage_percent,className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-neutral-400",children:[s.storage.used,s.storage.unit," / ",s.storage.total,s.storage.unit]})]})})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Connections"})]}),u(h(m.connections))]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:a.connections_active}),(0,t.jsxs)(n.E,{variant:"outline",className:"text-xs",children:["Max: ",a.connections_max]})]}),(0,t.jsx)(i.k,{value:a.connections_active/a.connections_max*100,className:"h-2"}),(0,t.jsx)(K,{data:m.connections,color:"#f97316"})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-5 h-5 text-yellow-400"}),"Query Performance"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-neutral-400",children:"Queries/Second"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:a.queries_per_second})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-neutral-400",children:"Slow Queries"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:a.slow_queries_count})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"flex justify-between text-sm",children:(0,t.jsx)("span",{children:"Query Throughput (24h)"})}),(0,t.jsx)(K,{data:m.qps,color:"#eab308"})]})]})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-green-400"}),"System Health"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"CPU Health"}),(0,t.jsx)(n.E,{variant:"healthy"===g.status?"default":"destructive",className:"text-xs",children:g.status})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Memory Health"}),(0,t.jsx)(n.E,{variant:"healthy"===v.status?"default":"destructive",className:"text-xs",children:v.status})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Storage Health"}),(0,t.jsx)(n.E,{variant:"healthy"===f.status?"default":"destructive",className:"text-xs",children:f.status})]}),void 0!==a.replication_lag_ms&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Replication Lag"}),(0,t.jsxs)("span",{className:"text-sm font-mono",children:[a.replication_lag_ms,"ms"]})]})]}),(0,t.jsx)("div",{className:"pt-3 border-t border-neutral-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 text-neutral-400"}),(0,t.jsx)("span",{className:"text-neutral-400",children:"Last metric update:"}),(0,t.jsx)("span",{children:new Date(a.timestamp).toLocaleTimeString()})]})})]})]})]}),("healthy"!==g.status||"healthy"!==v.status||"healthy"!==f.status)&&(0,t.jsxs)(r.Zp,{className:"bg-yellow-500/10 border-yellow-500/20",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-yellow-400",children:[(0,t.jsx)(V.A,{className:"w-5 h-5"}),"Performance Alerts"]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:["healthy"!==g.status&&(0,t.jsxs)("div",{className:"text-sm text-yellow-400",children:["⚠️ High CPU usage detected (",a.cpu_usage_percent.toFixed(1),"%)"]}),"healthy"!==v.status&&(0,t.jsxs)("div",{className:"text-sm text-yellow-400",children:["⚠️ High memory usage detected (",a.memory_usage_percent.toFixed(1),"%)"]}),"healthy"!==f.status&&(0,t.jsxs)("div",{className:"text-sm text-yellow-400",children:["⚠️ Low storage space remaining (",(100-a.storage_usage_percent).toFixed(1),"% free)"]})]})})]})]})}function ee(e){let{deployment:s,onBack:a}=e,{metrics:d,tenants:x,backups:L,subscribeToMetrics:T,unsubscribeFromMetrics:q,fetchTenants:F,fetchBackups:E}=(0,z.g)(),[W,$]=(0,l.useState)("overview"),U=d.get(s.id),P=x.get(s.id)||[],J=L.get(s.id)||[];(0,l.useEffect)(()=>("running"===s.status&&(T(s.id),F(s.id),E(s.id)),()=>{q(s.id)}),[s.id,s.status,T,q,F,E]);let H=e=>{navigator.clipboard.writeText(e)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:a,className:"hover:bg-neutral-800",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Back to Deployments"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-3xl",children:(e=>{switch(e){case"postgresql":return"\uD83D\uDC18";case"redis":return"\uD83D\uDD34";case"mongodb":return"\uD83C\uDF43";case"mysql":return"\uD83D\uDC2C";case"influxdb":return"\uD83D\uDCCA";default:return"\uD83D\uDCBE"}})(s.type)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold font-mono",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(e=>{switch(e){case"running":return(0,t.jsx)(j.A,{className:"w-5 h-5 text-green-500"});case"creating":return(0,t.jsx)(p.A,{className:"w-5 h-5 text-blue-500 animate-spin"});case"maintenance":return(0,t.jsx)(N.A,{className:"w-5 h-5 text-yellow-500"});case"failed":return(0,t.jsx)(N.A,{className:"w-5 h-5 text-red-500"});case"stopped":default:return(0,t.jsx)(N.A,{className:"w-5 h-5 text-gray-500"});case"deleting":return(0,t.jsx)(p.A,{className:"w-5 h-5 text-red-400 animate-spin"})}})(s.status),(0,t.jsxs)("span",{className:"text-sm text-neutral-400 capitalize",children:[s.type," • ",s.region]}),(0,t.jsx)(n.E,{variant:"secondary",className:"text-xs",children:s.status})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",className:"text-red-400 border-red-500/50 hover:bg-red-500/10",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),(0,t.jsxs)(m,{value:W,onValueChange:$,className:"w-full",children:[(0,t.jsxs)(o,{className:"grid w-full grid-cols-5",children:[(0,t.jsxs)(h,{value:"overview",className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"w-4 h-4"}),"Overview"]}),(0,t.jsxs)(h,{value:"metrics",className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4"}),"Metrics"]}),(0,t.jsxs)(h,{value:"tenants",className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),"Tenants (",P.length,")"]}),(0,t.jsxs)(h,{value:"backups",className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"w-4 h-4"}),"Backups (",J.length,")"]}),(0,t.jsxs)(h,{value:"logs",className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"w-4 h-4"}),"Logs"]})]}),(0,t.jsx)(u,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"Connection"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400 mb-2",children:"Endpoint"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-neutral-800 rounded font-mono text-sm",children:[(0,t.jsxs)("span",{className:"flex-1",children:[s.endpoint,":",s.port]}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>H("".concat(s.endpoint,":").concat(s.port)),className:"h-6 w-6 p-0",children:(0,t.jsx)(k.A,{className:"w-3 h-3"})})]})]}),"running"===s.status&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400 mb-2",children:"Connection String"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-neutral-800 rounded font-mono text-sm",children:[(0,t.jsx)("span",{className:"flex-1 truncate",children:s.connection_string}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>H(s.connection_string),className:"h-6 w-6 p-0",children:(0,t.jsx)(k.A,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)(c.$,{className:"w-full bg-orange-500 hover:bg-orange-600 text-black",disabled:"running"!==s.status,children:[(0,t.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Connect"]})]})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(B.A,{className:"w-5 h-5"}),"Resources"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"CPU"}),(0,t.jsxs)("span",{children:[s.resource_usage.cpu_cores," cores"]})]}),U&&(0,t.jsx)(i.k,{value:U.cpu_usage_percent,className:"h-2 mt-1"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(S.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Memory"}),(0,t.jsxs)("span",{children:[(s.resource_usage.memory_mb/1024).toFixed(1)," GB"]})]}),U&&(0,t.jsx)(i.k,{value:U.memory_usage_percent,className:"h-2 mt-1"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Storage"}),(0,t.jsxs)("span",{children:[s.storage.used,s.storage.unit," / ",s.storage.total,s.storage.unit]})]}),(0,t.jsx)(i.k,{value:s.storage.used/s.storage.total*100,className:"h-2 mt-1"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Connections"}),(0,t.jsxs)("span",{children:[s.connections.active," / ",s.connections.max]})]}),(0,t.jsx)(i.k,{value:s.connections.active/s.connections.max*100,className:"h-2 mt-1"})]})]})]})]}),(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"Details"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Instance ID"}),(0,t.jsx)("span",{className:"font-mono text-xs bg-neutral-800 px-2 py-1 rounded",children:s.instance_id})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Template ID"}),(0,t.jsx)("span",{className:"font-mono text-xs bg-neutral-800 px-2 py-1 rounded",children:s.template_id})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Created"}),(0,t.jsx)("span",{children:new Date(s.created_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Updated"}),(0,t.jsx)("span",{children:new Date(s.updated_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:"Deployment Time"}),(0,t.jsxs)("span",{children:[Math.round(s.deployment_time/1e3),"s"]})]})]})]})]})}),(0,t.jsx)(u,{value:"metrics",children:(0,t.jsx)(X,{deployment:s,metrics:U})}),(0,t.jsx)(u,{value:"tenants",children:(0,t.jsx)(I,{deploymentId:s.id,tenants:P})}),(0,t.jsx)(u,{value:"backups",children:(0,t.jsx)(Q,{deploymentId:s.id,backups:J})}),(0,t.jsx)(u,{value:"logs",children:(0,t.jsxs)(r.Zp,{className:"bg-neutral-900 border-neutral-800",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"Database Logs"]})}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsxs)("div",{className:"bg-black rounded-lg p-4 font-mono text-sm",children:[(0,t.jsx)("div",{className:"text-green-400 mb-2",children:"[INFO] Database started successfully"}),(0,t.jsx)("div",{className:"text-blue-400 mb-2",children:"[DEBUG] Connection pool initialized with 10 connections"}),(0,t.jsx)("div",{className:"text-yellow-400 mb-2",children:"[WARN] High CPU usage detected: 85%"}),(0,t.jsx)("div",{className:"text-neutral-400 mb-2",children:"[INFO] Backup completed successfully"}),(0,t.jsx)("div",{className:"text-red-400",children:"[ERROR] Query timeout after 30 seconds"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsx)("span",{className:"text-sm text-neutral-400",children:"Showing last 100 entries"}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})]})})]})]})}},9840:(e,s,a)=>{a.d(s,{Cf:()=>o,Es:()=>u,L3:()=>j,c7:()=>h,lG:()=>i,rr:()=>p,zM:()=>d});var t=a(5155),l=a(2115),n=a(5821),c=a(4416),r=a(3999);let i=n.bL,d=n.l9,x=n.ZL;n.bm;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.hJ,{ref:s,className:(0,r.cn)("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=n.hJ.displayName;let o=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(x,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(n.UC,{ref:s,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-800 bg-neutral-900 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),...i,children:[l,(0,t.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});o.displayName=n.UC.displayName;let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};h.displayName="DialogHeader";let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="DialogFooter";let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.hE,{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight text-white",a),...l})});j.displayName=n.hE.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.VY,{ref:s,className:(0,r.cn)("text-sm text-neutral-400",a),...l})});p.displayName=n.VY.displayName}}]);