(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{828:(e,s,t)=>{Promise.resolve().then(t.bind(t,1681))},1154:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1681:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(5155),r=t(2115),l=t(5695),n=t(8145),i=t(7168),c=t(8482),d=t(9852),o=t(1154),u=t(4616),x=t(7924),h=t(9397),m=t(1539),p=t(3786);let g=(0,t(9946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var b=t(2657),v=t(3904),y=t(5690),j=t(2178),N=t(5495),f=t(1124),w=t(6671);function k(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(""),[k,A]=(0,r.useState)("all"),{deployments:C,isLoading:M,error:L,isWebSocketConnected:z,fetchDeployments:E,controlDeployment:D}=(0,N.X)(),{isAuthenticated:S}=(0,f.n)();(0,r.useEffect)(()=>{if(!S){e.push("/auth");return}E()},[S]);let $=C.filter(e=>{var t;let a=e.name.toLowerCase().includes(s.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase())),r="all"===k||e.status===k;return a&&r}),_=e=>{switch(e){case"running":return"text-green-400 bg-green-500/10 border-green-500/20";case"deploying":return"text-blue-400 bg-blue-500/10 border-blue-500/20";case"stopped":default:return"text-gray-400 bg-gray-500/10 border-gray-500/20";case"failed":return"text-red-400 bg-red-500/10 border-red-500/20"}},q=e=>{switch(e){case"running":return"bg-green-400";case"deploying":return"bg-blue-400 animate-pulse";case"stopped":default:return"bg-gray-400";case"failed":return"bg-red-400"}},P=async(e,s)=>{try{await D(e,s),w.o.success("Deployment ".concat("restart"===s?"restarted":s+"ed"," successfully"))}catch(e){w.o.error("Failed to ".concat(s," deployment"),{description:e.message})}};return M?(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-6 h-6 animate-spin"}),(0,a.jsx)("span",{children:"Loading deployments..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsxs)("header",{className:"border-b border-neutral-800 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Deployments"}),(0,a.jsx)("p",{className:"text-neutral-400 mt-1",children:"Manage and monitor your deployed applications"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[z&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-400",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Real-time updates active"]}),(0,a.jsxs)(i.$,{className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>e.push("/deploy/new"),children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"New Deployment"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-neutral-400"}),(0,a.jsx)(d.p,{placeholder:"Search deployments...",value:s,onChange:e=>t(e.target.value),className:"w-64 bg-neutral-900 border-neutral-700 focus:border-orange-500"})]}),(0,a.jsxs)("select",{value:k,onChange:e=>A(e.target.value),className:"bg-neutral-900 border border-neutral-700 rounded px-3 py-2 text-sm focus:border-orange-500 focus:outline-none",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"running",children:"Running"}),(0,a.jsx)("option",{value:"deploying",children:"Deploying"}),(0,a.jsx)("option",{value:"stopped",children:"Stopped"}),(0,a.jsx)("option",{value:"failed",children:"Failed"})]})]})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[L&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-700/30 rounded-lg text-red-400",children:(0,a.jsx)("p",{children:L})}),0===$.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.A,{className:"w-16 h-16 mx-auto mb-4 text-neutral-600"}),(0,a.jsx)("h3",{className:"text-xl font-medium mb-2",children:0===C.length?"No deployments yet":"No deployments match your filters"}),(0,a.jsx)("p",{className:"text-neutral-400 mb-6",children:0===C.length?"Get started by creating your first deployment":"Try adjusting your search or filters"}),0===C.length&&(0,a.jsxs)(i.$,{className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>e.push("/deploy/new"),children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Create Deployment"]})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(s=>(0,a.jsxs)(c.Zp,{className:"bg-neutral-900 border-neutral-800 hover:border-neutral-700 transition-colors",children:[(0,a.jsxs)(c.aR,{className:"pb-3",children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(c.ZB,{className:"text-lg font-mono truncate",children:s.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(q(s.status))}),(0,a.jsx)(n.E,{className:_(s.status),variant:"outline",children:s.status}),(0,a.jsx)(n.E,{variant:"secondary",className:"bg-neutral-800",children:s.runtimeType})]})]})}),s.description&&(0,a.jsx)("p",{className:"text-sm text-neutral-400 mt-2 line-clamp-2",children:s.description})]}),(0,a.jsxs)(c.Wu,{className:"space-y-4",children:[(s.cpu||s.memory)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"w-3 h-3 text-neutral-500"}),(0,a.jsxs)("span",{className:"text-neutral-500",children:["CPU: ",s.cpu||0,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 text-neutral-500"}),(0,a.jsxs)("span",{className:"text-neutral-500",children:["MEM: ",s.memory||0,"%"]})]})]}),s.publicUrl&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-3 h-3 text-neutral-500 shrink-0"}),(0,a.jsx)("span",{className:"text-xs text-blue-400 truncate font-mono",children:s.publicUrl})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-3 h-3 text-neutral-500"}),(0,a.jsxs)("span",{className:"text-xs text-neutral-500",children:["Created ",new Date(s.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",className:"flex-1 border-neutral-700 hover:bg-neutral-800",onClick:()=>e.push("/deployments/".concat(s.id)),children:[(0,a.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"View"]}),"running"===s.status&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"border-orange-600 text-orange-400 hover:bg-orange-900/20",onClick:()=>P(s.id,"restart"),children:(0,a.jsx)(v.A,{className:"w-3 h-3"})}),"stopped"===s.status&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"border-green-600 text-green-400 hover:bg-green-900/20",onClick:()=>P(s.id,"start"),children:(0,a.jsx)(y.A,{className:"w-3 h-3"})}),"running"===s.status&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"border-red-600 text-red-400 hover:bg-red-900/20",onClick:()=>P(s.id,"stop"),children:(0,a.jsx)(j.A,{className:"w-3 h-3"})}),s.publicUrl&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"border-neutral-700 hover:bg-neutral-800",onClick:()=>window.open(s.publicUrl,"_blank"),children:(0,a.jsx)(p.A,{className:"w-3 h-3"})})]})]})]},s.id))}),C.length>0&&(0,a.jsx)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:["running","deploying","stopped","failed"].map(e=>{let s=C.filter(s=>s.status===e).length;return(0,a.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(_(e).split(" ")[0]),children:s}),(0,a.jsx)("div",{className:"text-sm text-neutral-400 capitalize",children:e})]},e)})})]})]})}},2178:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},3786:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3904:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4616:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5690:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},7924:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(5155);t(2115);var r=t(2085),l=t(3999);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:t}),s),...r})}},9397:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[277,41,671,388,99,441,684,358],()=>s(828)),_N_E=e.O()}]);