# CodeRunner v2.0 - Production Environment Configuration
# üîí SECURITY: Ensure all secrets are changed before deployment
# 
# Generated: 2025-08-10 for Day 6 production deployment
# Status: TEMPLATE - Replace all CHANGE_THIS values before use

# ==========================================
# SERVER CONFIGURATION
# ==========================================
NODE_ENV=production
PORT=8080

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
# üîí SECURITY: Use strong passwords (min 20 chars, mixed case, numbers, symbols)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=coderunner
DB_USER=coderunner
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_123!@#

# Alternative format (if using single URL)
# DATABASE_URL=postgresql://coderunner:STRONG_PASSWORD@postgres:5432/coderunner

# ==========================================
# JWT & AUTHENTICATION
# ==========================================
# üîí SECURITY: Minimum 32 characters, cryptographically secure
JWT_SECRET=CHANGE_THIS_SUPER_SECRET_JWT_KEY_min_32_chars!@#$%^&*()1234567890
JWT_EXPIRES_IN=7d

# ==========================================
# REDIS CONFIGURATION
# ==========================================
# üîí SECURITY: Use strong Redis password
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_123!@#

# ==========================================
# CORS & SECURITY
# ==========================================
# üåê UPDATE: Set to your production domain
CORS_ORIGIN=https://yourdomain.com
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# ==========================================
# SECURITY SETTINGS
# ==========================================
BCRYPT_ROUNDS=12
SESSION_SECRET=CHANGE_THIS_SESSION_SECRET_min_32_chars!@#$%^&*
CSRF_SECRET=CHANGE_THIS_CSRF_SECRET_min_32_chars!@#$%^&*

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=warn
LOG_TO_FILE=true
LOG_MAX_FILES=10
LOG_MAX_SIZE=10m

# ==========================================
# RATE LIMITING (Production values)
# ==========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50
RATE_LIMIT_SKIP_SUCCESS=true

# Auth-specific rate limits
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_ATTEMPTS=5

# ==========================================
# SSL/TLS CONFIGURATION
# ==========================================
SSL_CERT_PATH=/etc/ssl/certs/coderunner.crt
SSL_KEY_PATH=/etc/ssl/private/coderunner.key
SSL_PASSPHRASE=

# ==========================================
# MONITORING & HEALTH
# ==========================================
METRICS_ENABLED=true
HEALTH_CHECK_TIMEOUT=30000
HEALTH_CHECK_INTERVAL=60000

# ==========================================
# BACKUP CONFIGURATION
# ==========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=CHANGE_THIS_BACKUP_ENCRYPTION_KEY!@#

# ==========================================
# EXTERNAL SERVICES
# ==========================================
# AgentSphere Integration (if used)
AGENTSPHERE_API_URL=https://api.agentsphere.com
AGENTSPHERE_API_KEY=your_production_agentsphere_api_key_here

# ==========================================
# DEPLOYMENT CONFIGURATION
# ==========================================
IMAGE_TAG=latest
CONTAINER_MEMORY_LIMIT=1G
CONTAINER_CPU_LIMIT=1.0

# ==========================================
# FEATURE FLAGS
# ==========================================
WEBSOCKETS_ENABLED=true
METRICS_COLLECTION_ENABLED=true
SWAGGER_ENABLED=false
DEBUG_MODE=false

# ==========================================
# PERFORMANCE SETTINGS
# ==========================================
NODE_OPTIONS="--max-old-space-size=1024"
UV_THREADPOOL_SIZE=4
CACHE_TTL=300
MAX_CONCURRENT_CONNECTIONS=1000

# ==========================================
# PRODUCTION OPTIMIZATIONS
# ==========================================
TRUST_PROXY=true
COMPRESSION_ENABLED=true
STATIC_CACHE_MAX_AGE=31536000
API_CACHE_MAX_AGE=300

# ==========================================
# SECURITY CHECKLIST
# ==========================================
# [ ] All CHANGE_THIS values replaced
# [ ] Strong passwords (20+ chars)
# [ ] JWT secret (32+ chars)
# [ ] CORS origin updated to production domain
# [ ] SSL certificates installed
# [ ] Backup encryption configured
# [ ] External API keys configured
# [ ] Rate limits appropriate for production
# [ ] Log level set to warn/error
# [ ] Debug mode disabled
# [ ] Swagger disabled for production